<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GST & VAT Calculator üí∞ - Calculate Tax Instantly</title>
    <meta
      name="description"
      content="Modern Neumorphic GST & VAT Calculator with detailed breakdown. Calculate inclusive/exclusive GST, VAT, and tax amounts instantly."
    />
    <meta
      name="keywords"
      content="GST Calculator, VAT Calculator, Tax Calculator, GST India, Sales Tax, Tax Amount, Price Calculator, GST Inclusive, GST Exclusive"
    />
    <meta name="author" content="Calcy Hub" />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      :root {
        --primary-bg: #e0e5ec;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: #e0e5ec;
        color: #333;
        padding: 8px;
        min-height: 100vh;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
      }

      /* Top Bar */
      .header {
        background: var(--primary-bg);
        padding: 8px 10px;
        border: 1px solid #9aa3af;
        border-radius: 10px;
        box-shadow: 0px 0px 16px #a3b1c6, -9px -9px 16px #ffffff;
        display: flex;
        align-items: center;
        gap: 20px;
        margin-bottom: 15px;
        flex-wrap: nowrap;
      }

      .back-btn {
        background: var(--primary-bg);
        border: 1px solid #9aa3af;
        padding: 12px 20px;
        border-radius: 12px;
        box-shadow: 4px 4px 8px #a3b1c6, -4px -4px 8px #ffffff;
        cursor: pointer;
        color: #555;
        font-size: 14px;
        transition: all 0.3s;
      }

      .back-btn:hover {
        box-shadow: inset 3px 3px 7px #a3b1c6, inset -3px -3px 7px #ffffff;
      }

      .back-btn:active {
        box-shadow: inset 5px 5px 10px #a3b1c6, inset -5px -5px 10px #ffffff;
      }

      .header-center {
        flex: 1;
        text-align: center;
      }

      .header-center h1 {
        font-size: 28px;
        margin-bottom: 3px;
      }

      .header-actions {
        display: flex;
        gap: 6px;
      }

      .icon-btn {
        background: var(--primary-bg);
        border: 1px solid #9aa3af;
        width: 40px;
        height: 40px;
        border-radius: 10px;
        box-shadow: 4px 4px 8px #a3b1c6, -4px -4px 8px #ffffff;
        cursor: pointer;
        font-size: 18px;
        transition: all 0.3s;
        border: none;
      }

      .icon-btn:active {
        box-shadow: inset 4px 4px 8px #a3b1c6, inset -4px -4px 8px #ffffff;
      }

      /* Main Content */
      .main-content {
        display: grid;
        grid-template-columns: 1fr;
        gap: 30px;
      }

      /* Card Style */
      .card {
        background: var(--primary-bg);
        padding: 20px;
        border-radius: 20px;
        border: 1px solid #89929d;
        box-shadow: 0px 0px 16px #a3b1c6, -9px -9px 16px #ffffff;
      }

      .card h2 {
        font-size: 22px;
        margin-bottom: 15px;
        color: #2c502e;
      }

      /* Input Groups */
      .input-group {
        margin-bottom: 15px;
      }

      .input-group label {
        display: block;
        margin-bottom: 10px;
        font-weight: 600;
        color: #555;
        font-size: 14px;
      }

      input[type="number"],
      select {
        width: 100%;
        padding: 10px 20px;
        border: none;
        border-radius: 12px;
        border: 1px solid #9aa3af;
        background: var(--primary-bg);
        box-shadow: inset 0px 0px 8px #a3b1c6, inset -4px -4px 8px #ffffff;
        font-size: 16px;
        color: #333;
        transition: all 0.3s;
      }

      input[type="number"]:focus,
      select:focus {
        outline: none;
        box-shadow: inset 6px 6px 12px #a3b1c6, inset -6px -6px 12px #ffffff;
      }

      /* Toggle Switch */
      .toggle-group {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
      }

      .toggle-btn {
        flex: 1;
        min-width: 100px;
        padding: 10px 20px;
        border: none;
        border-radius: 12px;
        border: 1px solid #9aa3afdf;
        background: var(--primary-bg);
        box-shadow: 0px 0px 10px #a3b1c6, -5px -5px 10px #ffffff;
        cursor: pointer;
        font-size: 14px;
        color: #555;
        transition: all 0.3s;
      }

      .toggle-btn.active {
        box-shadow: inset 4px 4px 8px #a3b1c6, inset -4px -4px 8px #ffffff;
        color: #3498db;
        font-weight: 600;
        animation: pulse 3s infinite;
      }

      @keyframes pulse {
        0% {
          transform: scale(1);
          box-shadow: 0 1px 4px rgba(80, 99, 103, 0.3);
        }
        50% {
          transform: scale(1.02);
          box-shadow: 0 2px 6px rgba(93, 98, 99, 0.4);
        }
        100% {
          transform: scale(1);
          box-shadow: 0 1px 4px rgba(85, 92, 93, 0.3);
        }
      }

      /* Buttons */
      .btn-group {
        display: flex;
        gap: 15px;
        margin-top: 30px;
        flex-wrap: wrap;
      }

      .calculate-btn {
        flex: 2;
        min-width: 200px;
        padding: 15px 40px;
        border: none;
        border-radius: 15px;
        background: linear-gradient(145deg, #27ae60, #229954);
        color: var(--primary-bg);
        font-size: 18px;
        font-weight: 600;
        cursor: pointer;
        box-shadow: 6px 6px 12px #a3b1c6, -6px -6px 12px #ffffff;
        transition: all 0.3s;
      }

      .calculate-btn:hover {
        transform: translateY(-2px);
        box-shadow: 8px 8px 16px #a3b1c6, -8px -8px 16px #ffffff;
      }

      .calculate-btn:active {
        transform: translateY(0);
        box-shadow: inset 2px 2px 8px #1e8449, inset -4px -4px 8px #52be80;
      }

      .reset-btn {
        flex: 1;
        min-width: 120px;
        padding: 18px 30px;
        border: none;
        border-radius: 15px;
        background: var(--primary-bg);
        color: #555;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        box-shadow: 5px 5px 10px #a3b1c6, -5px -5px 10px #ffffff;
        transition: all 0.3s;
      }

      .reset-btn:hover {
        box-shadow: 3px 3px 6px #a3b1c6, -3px -3px 6px #ffffff;
      }

      .reset-btn:active {
        box-shadow: inset 3px 3px 6px #a3b1c6, inset -3px -3px 6px #ffffff;
      }

      /* Results */
      .results-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
        gap: 20px;
        margin-bottom: 30px;
      }

      .result-item {
        background: var(--primary-bg);
        padding: 20px;
        border-radius: 15px;
        box-shadow: inset 4px 4px 8px #a3b1c6, inset -4px -4px 8px #ffffff;
        text-align: center;
      }

      .result-label {
        font-size: 13px;
        color: #777;
        margin-bottom: 8px;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      .result-value {
        font-size: 26px;
        font-weight: 700;
        color: #2c3e50;
      }

      /* Breakdown Table */
      .breakdown-table {
        margin-top: 20px;
        border-collapse: collapse;
        width: 100%;
        background: #f5f7fa;
        border-radius: 10px;
        overflow: hidden;
        box-shadow: 0px 0px 8px #a3b1c6, -4px -4px 8px #ffffff;
      }

      .breakdown-table th {
        background: #e0e5ec;
        text-align: left;
        padding: 12px 14px;
        color: #27ae60;
        font-size: 15px;
        font-weight: 600;
        border-bottom: 1px solid #d1d9e6;
      }

      .breakdown-table td {
        padding: 12px 14px;
        font-size: 15px;
        color: #333;
        border-bottom: 1px solid #e0e5ec;
      }

      .breakdown-table tr:last-child td {
        border-bottom: none;
        font-weight: 600;
        color: #27ae60;
        font-size: 16px;
      }

      /* Action Buttons */
      .action-buttons {
        display: flex;
        gap: 15px;
        flex-wrap: wrap;
        margin-top: 20px;
      }

      .action-btn {
        padding: 12px 20px;
        border: none;
        border-radius: 10px;
        background: var(--primary-bg);
        color: #555;
        font-size: 13px;
        font-weight: 600;
        cursor: pointer;
        box-shadow: 5px 5px 10px #a3b1c6, -5px -5px 10px #ffffff;
        transition: all 0.3s;
        display: flex;
        align-items: center;
        gap: 6px;
        flex: 1;
        min-width: 140px;
        justify-content: center;
      }

      .action-btn:hover {
        box-shadow: 3px 3px 6px #a3b1c6, -3px -3px 6px #ffffff;
      }

      .action-btn:active {
        box-shadow: inset 3px 3px 6px #a3b1c6, inset -3px -3px 6px #ffffff;
      }

      /* Info Cards */
      .info-cards {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 25px;
        margin-top: 30px;
      }

      .info-card {
        background: var(--primary-bg);
        padding: 25px;
        border-radius: 15px;
        border: 1px solid #9aa3af;
        box-shadow: 0px 0px 16px #a3b1c6, -9px -9px 16px #ffffff;
      }

      .info-card h3 {
        color: #2c3e50;
        margin-bottom: 15px;
        font-size: 18px;
      }

      .info-card p,
      .info-card ul {
        color: #555;
        line-height: 1.8;
        font-size: 14px;
      }

      .info-card ul {
        list-style: none;
        padding-left: 0;
      }

      .info-card li {
        padding-left: 25px;
        position: relative;
        margin-bottom: 10px;
      }

      .info-card li:before {
        content: "‚Ä¢";
        position: absolute;
        left: 10px;
        color: #27ae60;
        font-weight: bold;
      }

      /* Hidden Sections */
      .hidden {
        display: none;
      }

      .cards {
        background: var(--primary-bg);
        padding: 20px;
        margin-top: 30px;
        border-radius: 20px;
        border: 1px solid #89929d;
        box-shadow: 0px 0px 16px #a3b1c6, -9px -9px 16px #ffffff;
      }

      .cards h2 {
        font-size: 22px;
        margin-bottom: 15px;
        color: #2c502e;
      }

      .formula-section {
        margin-top: 30px;
        padding: 25px;
        background: var(--primary-bg);
        border-radius: 15px;
        box-shadow: inset 4px 4px 8px #a3b1c6, inset -4px -4px 8px #ffffff;
      }

      .formula {
        background: #f5f7fa;
        padding: 15px;
        border-radius: 10px;
        margin: 15px 0;
        font-family: "Courier New", monospace;
        overflow-x: auto;
      }

      /* Quick Reference Table */
      .quick-ref-table {
        margin-top: 15px;
        border-collapse: collapse;
        width: 100%;
        background: #f5f7fa;
        border-radius: 10px;
        overflow: hidden;
        box-shadow: 0px 0px 8px #a3b1c6, -4px -4px 8px #ffffff;
      }

      .quick-ref-table th {
        background: #e0e5ec;
        text-align: left;
        padding: 10px 14px;
        color: #2980b9;
        font-size: 15px;
        font-weight: 600;
        border-bottom: 1px solid #d1d9e6;
      }

      .quick-ref-table td {
        padding: 10px 14px;
        font-size: 14px;
        color: #333;
        border-bottom: 1px solid #e0e5ec;
      }

      .quick-ref-table tr:last-child td {
        border-bottom: none;
      }

      /* Responsive */
      @media (max-width: 480px) {
        .back-btn {
          display: none;
        }

        .icon-btn {
          width: 28px;
          height: 28px;
          font-size: 12px;
          border: 1px solid #9aa3af;
        }
      }

      @media (max-width: 768px) {
        .header h1 {
          font-size: 17px;
         
        }

        .card {
          padding: 15px 30px;
        }

        .btn-group {
          flex-direction: column;
        }

        .calculate-btn,
        .reset-btn {
          width: 100%;
        }

        .results-grid {
          grid-template-columns: 1fr;
        }
      }

      @media (min-width: 768px) {
        .main-content {
          grid-template-columns: 1fr 1fr;
        }

        .card.full-width {
          grid-column: 1 / -1;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <!-- Top Bar -->
      <div class="header">
        <button
          class="back-btn"
          onclick="window.location.href='../../home.html'"
        >
          <span>‚Üê</span> Go Back
        </button>
        <div class="header-center">
          <h1>GST / VAT Calculator</h1>
        </div>
        <div class="header-actions">
          <button class="icon-btn" title="Share">üì§</button>
          <button class="icon-btn" title="Download PDF">üìÑ</button>
          <button class="icon-btn" title="Toggle Theme">üåì</button>
        </div>
      </div>

      <div class="main-content">
        <!-- Input Section -->
        <div class="card">
          <h2>Tax Calculator</h2>

          <div class="input-group">
            <label>Tax Type</label>
            <div class="toggle-group">
              <button
                class="toggle-btn active"
                id="taxGST"
                onclick="setTaxType('GST')"
              >
                GST
              </button>
              <button
                class="toggle-btn"
                id="taxVAT"
                onclick="setTaxType('VAT')"
              >
                VAT
              </button>
            </div>
          </div>

          <div class="input-group">
            <label>Calculation Type</label>
            <div class="toggle-group">
              <button
                class="toggle-btn active"
                id="calcExclusive"
                onclick="setCalcType('exclusive')"
              >
                Exclusive
              </button>
              <button
                class="toggle-btn"
                id="calcInclusive"
                onclick="setCalcType('inclusive')"
              >
                Inclusive
              </button>
            </div>
          </div>

          <div class="input-group">
            <label for="amount" id="amountLabel">Amount (Before Tax)</label>
            <input type="number" id="amount" value="10000" min="1" step="1" />
          </div>

          <div class="input-group">
            <label for="taxRate" id="taxRateLabel">GST Rate (%)</label>
            <select id="taxRate" onchange="handleCustomRate()">
              <option value="5">5%</option>
              <option value="12">12%</option>
              <option value="18" selected>18%</option>
              <option value="28">28%</option>
              <option value="custom">Custom Rate</option>
            </select>
            <input
              type="number"
              id="customRate"
              value="18"
              min="0"
              max="100"
              step="0.5"
              style="margin-top: 15px; display: none"
              placeholder="Enter custom rate"
            />
          </div>

          <div class="input-group">
            <label for="currency">Currency</label>
            <select id="currency">
              <option value="‚Çπ">INR (‚Çπ)</option>
              <option value="$">USD ($)</option>
              <option value="‚Ç¨">EUR (‚Ç¨)</option>
              <option value="¬£">GBP (¬£)</option>
            </select>
          </div>

          <div class="btn-group">
            <button class="calculate-btn" onclick="calculateTax()">
              Calculate Tax
            </button>
            <button class="reset-btn" onclick="resetForm()">Reset</button>
          </div>
        </div>

        <!-- Quick Info -->
        <div class="card">
          <h2>Quick Reference</h2>
          <div style="color: #555; line-height: 1.8">
            <p style="margin-bottom: 15px">
              üìä <strong>GST</strong> - Goods and Services Tax in India
            </p>
            <p style="margin-bottom: 15px">
              üí° <strong>Exclusive:</strong> Tax added to base price
            </p>
            <p style="margin-bottom: 15px">
              üìà <strong>Inclusive:</strong> Tax already included in price
            </p>
            <p style="margin-bottom: 15px">
              üéØ <strong>Common GST Rates:</strong> 5%, 12%, 18%, 28%
            </p>
          </div>

          <table class="quick-ref-table">
            <thead>
              <tr>
                <th>Category</th>
                <th>GST Rate</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Essential Goods</td>
                <td>5%</td>
              </tr>
              <tr>
                <td>Standard Goods</td>
                <td>12%</td>
              </tr>
              <tr>
                <td>Most Services</td>
                <td>18%</td>
              </tr>
              <tr>
                <td>Luxury Items</td>
                <td>28%</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <!-- Results Section -->
      <div class="cards full-width hidden" id="resultsSection">
        <h2>Tax Calculation Summary</h2>

        <div class="results-grid">
          <div class="result-item">
            <div class="result-label">Original Amount</div>
            <div class="result-value" id="originalAmount">-</div>
          </div>
          <div class="result-item">
            <div class="result-label" id="taxAmountLabel">Tax Amount</div>
            <div class="result-value" id="taxAmount">-</div>
          </div>
          <div class="result-item">
            <div class="result-label">Total Amount</div>
            <div class="result-value" id="totalAmount">-</div>
          </div>
        </div>

        <!-- Tax Breakdown -->
        <div id="gstBreakdown" class="hidden">
          <h3 style="color: #2c3e50; margin-bottom: 15px">GST Breakdown</h3>
          <table class="breakdown-table">
            <thead>
              <tr>
                <th>Component</th>
                <th>Rate</th>
                <th>Amount</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>CGST (Central GST)</td>
                <td id="cgstRate">-</td>
                <td id="cgstAmount">-</td>
              </tr>
              <tr>
                <td>SGST (State GST)</td>
                <td id="sgstRate">-</td>
                <td id="sgstAmount">-</td>
              </tr>
              <tr>
                <td><strong>Total GST</strong></td>
                <td id="totalGSTRate">-</td>
                <td id="totalGSTAmount">-</td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Action Buttons -->
        <div class="action-buttons">
          <button class="action-btn">üìÑ Download PDF</button>
          <button class="action-btn" onclick="toggleFormula()">
            üßÆ Show Formula
          </button>
          <button class="action-btn" onclick="copyResults()">
            üìã Copy Results
          </button>
        </div>

        <!-- Formula Section -->
        <div class="formula-section hidden" id="formulaSection">
          <h3>Calculation Formula</h3>
          <div class="formula" id="formulaContent"></div>
          <div
            id="calculationExample"
            style="margin-top: 15px; color: #555; line-height: 1.8"
          ></div>
        </div>
      </div>

      <!-- Info Cards -->
      <div class="info-cards">
        <div class="info-card">
          <h3>How to Use This Calculator</h3>
          <ul>
            <li>Select tax type: GST or VAT</li>
            <li>
              Choose calculation type: Exclusive (tax not included) or Inclusive
              (tax included)
            </li>
            <li>Enter the amount in the input field</li>
            <li>Select or enter the tax rate percentage</li>
            <li>Choose your preferred currency</li>
            <li>Click "Calculate Tax" to see detailed breakdown</li>
            <li>View CGST and SGST components for GST calculations</li>
          </ul>
        </div>

        <div class="info-card">
          <h3>What is GST?</h3>
          <p>
            GST (Goods and Services Tax) is an indirect tax levied on the supply
            of goods and services in India. It replaced multiple cascading taxes
            with a single comprehensive tax.
          </p>
          <p style="margin-top: 15px">
            <strong>GST Structure:</strong>
          </p>
          <ul style="margin-top: 10px">
            <li>
              CGST - Central Goods and Services Tax (charged by Central
              Government)
            </li>
            <li>
              SGST - State Goods and Services Tax (charged by State Government)
            </li>
            <li>IGST - Integrated GST (for inter-state transactions)</li>
          </ul>
        </div>

        <div class="info-card">
          <h3>GST Rates in India</h3>
          <p style="margin-bottom: 15px">
            GST in India has multiple tax slabs based on product/service
            categories:
          </p>
          <ul>
            <li>
              <strong>0%:</strong> Essential items like fresh food, education,
              healthcare
            </li>
            <li>
              <strong>5%:</strong> Essential commodities, transport services
            </li>
            <li>
              <strong>12%:</strong> Processed food, computers, certain services
            </li>
            <li><strong>18%:</strong> Most goods and services, IT services</li>
            <li><strong>28%:</strong> Luxury goods, automobiles, tobacco</li>
          </ul>
        </div>

        <div class="info-card">
          <h3>Exclusive vs Inclusive Tax</h3>
          <p>
            <strong>Tax Exclusive:</strong> The displayed price doesn't include
            tax. Tax is added on top of the base price.
          </p>
          <p style="margin-top: 10px">
            Example: Base Price = ‚Çπ10,000 + 18% GST = ‚Çπ11,800 Total
          </p>
          <p style="margin-top: 15px">
            <strong>Tax Inclusive:</strong> The displayed price already includes
            tax. We calculate the base price and tax component from the total.
          </p>
          <p style="margin-top: 10px">
            Example: Total Price = ‚Çπ11,800 (includes ‚Çπ10,000 base + ‚Çπ1,800 GST)
          </p>
        </div>
      </div>
    </div>

    <script>
      // ...existing code...

      let taxType = "GST";
      let calcType = "exclusive";

      // Toggle Tax Type (GST/VAT)
      function setTaxType(type) {
        taxType = type;
        document
          .getElementById("taxGST")
          .classList.toggle("active", type === "GST");
        document
          .getElementById("taxVAT")
          .classList.toggle("active", type === "VAT");
        document.getElementById("taxRateLabel").textContent =
          type + " Rate (%)";
      }

      // Toggle Calculation Type (Exclusive/Inclusive)
      function setCalcType(type) {
        calcType = type;
        document
          .getElementById("calcExclusive")
          .classList.toggle("active", type === "exclusive");
        document
          .getElementById("calcInclusive")
          .classList.toggle("active", type === "inclusive");
        document.getElementById("amountLabel").textContent =
          type === "exclusive"
            ? "Amount (Before Tax)"
            : "Amount (Including Tax)";
      }

      // Handle Custom Rate
      function handleCustomRate() {
        const rateSelect = document.getElementById("taxRate");
        const customRateInput = document.getElementById("customRate");
        if (rateSelect.value === "custom") {
          customRateInput.style.display = "block";
        } else {
          customRateInput.style.display = "none";
        }
      }

      // Reset Form
      function resetForm() {
        setTaxType("GST");
        setCalcType("exclusive");
        document.getElementById("amount").value = 10000;
        document.getElementById("taxRate").value = "18";
        document.getElementById("customRate").value = 18;
        document.getElementById("customRate").style.display = "none";
        document.getElementById("currency").value = "‚Çπ";
        document.getElementById("resultsSection").classList.add("hidden");
        document.getElementById("gstBreakdown").classList.add("hidden");
        document.getElementById("formulaSection").classList.add("hidden");
      }

      // Main Calculation
      function calculateTax() {
        let amount = parseFloat(document.getElementById("amount").value);
        let rate = document.getElementById("taxRate").value;
        let customRate = parseFloat(
          document.getElementById("customRate").value
        );
        let curr = document.getElementById("currency").value;

        let taxRateValue = rate === "custom" ? customRate : parseFloat(rate);

        let originalAmount, taxAmount, totalAmount;
        let cgst = 0,
          sgst = 0,
          cgstRate = 0,
          sgstRate = 0;

        if (calcType === "exclusive") {
          taxAmount = amount * (taxRateValue / 100);
          totalAmount = amount + taxAmount;
          originalAmount = amount;
        } else {
          taxAmount = amount - amount / (1 + taxRateValue / 100);
          originalAmount = amount / (1 + taxRateValue / 100);
          totalAmount = amount;
        }

        // GST Breakdown
        if (taxType === "GST") {
          cgstRate = sgstRate = taxRateValue / 2;
          cgst = taxAmount / 2;
          sgst = taxAmount / 2;
          document.getElementById("gstBreakdown").classList.remove("hidden");
          document.getElementById("cgstRate").textContent = cgstRate + "%";
          document.getElementById("sgstRate").textContent = sgstRate + "%";
          document.getElementById("cgstAmount").textContent =
            curr +
            " " +
            cgst.toLocaleString(undefined, { maximumFractionDigits: 2 });
          document.getElementById("sgstAmount").textContent =
            curr +
            " " +
            sgst.toLocaleString(undefined, { maximumFractionDigits: 2 });
          document.getElementById("totalGSTRate").textContent =
            taxRateValue + "%";
          document.getElementById("totalGSTAmount").textContent =
            curr +
            " " +
            taxAmount.toLocaleString(undefined, { maximumFractionDigits: 2 });
          document.getElementById("taxAmountLabel").textContent = "GST Amount";
        } else {
          document.getElementById("gstBreakdown").classList.add("hidden");
          document.getElementById("taxAmountLabel").textContent = "VAT Amount";
        }

        // Output
        document.getElementById("originalAmount").textContent =
          curr +
          " " +
          originalAmount.toLocaleString(undefined, {
            maximumFractionDigits: 2,
          });
        document.getElementById("taxAmount").textContent =
          curr +
          " " +
          taxAmount.toLocaleString(undefined, { maximumFractionDigits: 2 });
        document.getElementById("totalAmount").textContent =
          curr +
          " " +
          totalAmount.toLocaleString(undefined, { maximumFractionDigits: 2 });

        document.getElementById("resultsSection").classList.remove("hidden");

        // Formula Section
        let formulaStr = "";
        let exampleStr = "";
        if (calcType === "exclusive") {
          formulaStr = `Tax Amount = Amount √ó (Tax Rate / 100)<br>Total Amount = Amount + Tax Amount`;
          exampleStr = `
            <strong>Inputs:</strong><br>
            Amount = ${curr} ${amount.toLocaleString()}<br>
            Tax Rate = ${taxRateValue}%<br><br>
            <strong>Calculation:</strong><br>
            Tax Amount = ${curr} ${taxAmount.toLocaleString(undefined, {
            maximumFractionDigits: 2,
          })}<br>
            Total Amount = ${curr} ${totalAmount.toLocaleString(undefined, {
            maximumFractionDigits: 2,
          })}
          `;
        } else {
          formulaStr = `Tax Amount = Amount - [Amount / (1 + Tax Rate / 100)]<br>Original Amount = Amount / (1 + Tax Rate / 100)`;
          exampleStr = `
            <strong>Inputs:</strong><br>
            Amount (Including Tax) = ${curr} ${amount.toLocaleString()}<br>
            Tax Rate = ${taxRateValue}%<br><br>
            <strong>Calculation:</strong><br>
            Tax Amount = ${curr} ${taxAmount.toLocaleString(undefined, {
            maximumFractionDigits: 2,
          })}<br>
            Original Amount = ${curr} ${originalAmount.toLocaleString(
            undefined,
            { maximumFractionDigits: 2 }
          )}
          `;
        }
        document.getElementById("formulaContent").innerHTML = formulaStr;
        document.getElementById("calculationExample").innerHTML = exampleStr;
      }

      // Formula Toggle
      function toggleFormula() {
        document.getElementById("formulaSection").classList.toggle("hidden");
      }

      // Copy Results
      function copyResults() {
        let summary = document.getElementById("resultsSection").innerText;
        navigator.clipboard.writeText(summary);
        alert("Results copied to clipboard!");
      }

      // Initial State
      window.onload = function () {
        resetForm();
        window.scrollTo(0, 0);
      };
      window.addEventListener("pageshow", function (event) {
        if (event.persisted || performance.navigation.type === 1) {
          resetForm();
          window.scrollTo(0, 0);
        }
      });
    </script>
  </body>
</html>

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      Date Difference Calculator üìÖ - Calculate Days, Weeks, Months, Years
    </title>
    <meta
      name="description"
      content="Modern Neumorphic Date Difference Calculator to calculate exact difference between two dates in days, weeks, months, and years. Perfect for age calculation, event planning, and date tracking."
    />
    <meta
      name="keywords"
      content="Date Calculator, Date Difference, Days Between Dates, Age Calculator, Date Duration, Time Between Dates, Days Counter, Date Interval"
    />
    <meta name="author" content="Calcy Hub" />
    <link
      rel="canonical"
      href="https://calcyhub.com/date-difference-calculator"
    />
    <meta
      property="og:title"
      content="Date Difference Calculator üìÖ - Calculate Days, Weeks, Months, Years"
    />
    <meta
      property="og:description"
      content="Calculate exact difference between two dates in days, weeks, months, and years with detailed breakdown."
    />
    <meta property="og:type" content="website" />
    <meta
      property="og:url"
      content="https://calcyhub.com/date-difference-calculator"
    />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      :root {
        --primary-bg: #e0e5ec;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: #e0e5ec;
        color: #333;
        padding: 20px;
        min-height: 100vh;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
      }

      /* Top Bar */
      .header {
        background: var(--primary-bg);
        padding: 15px;
        border: 1px solid #9aa3af;
        border-radius: 20px;
        box-shadow: 0px 0px 16px #a3b1c6, -9px -9px 16px #ffffff;
        display: flex;
        align-items: center;
        gap: 20px;
        margin-bottom: 20px;
        flex-wrap: wrap;
      }

      .back-btn {
        background: var(--primary-bg);
        border: 1px solid #9aa3af;
        padding: 12px 20px;
        border-radius: 12px;
        box-shadow: 4px 4px 8px #a3b1c6, -4px -4px 8px #ffffff;
        cursor: pointer;
        color: #555;
        font-size: 14px;
        transition: all 0.3s;
      }

      .back-btn:hover {
        box-shadow: inset 3px 3px 7px #a3b1c6, inset -3px -3px 7px #ffffff;
      }

      .back-btn:active {
        box-shadow: inset 5px 5px 10px #a3b1c6, inset -5px -5px 10px #ffffff;
      }

      .header-center {
        flex: 1;
        text-align: center;
      }

      .header-center h1 {
        font-size: 28px;
        margin-bottom: 8px;
      }

      .header-actions {
        display: flex;
        gap: 10px;
      }

      .icon-btn {
        background: var(--primary-bg);
        border: 1px solid #9aa3af;
        width: 40px;
        height: 40px;
        border-radius: 10px;
        box-shadow: 4px 4px 8px #a3b1c6, -4px -4px 8px #ffffff;
        cursor: pointer;
        font-size: 18px;
        transition: all 0.3s;
        border: none;
      }

      .icon-btn:active {
        box-shadow: inset 4px 4px 8px #a3b1c6, inset -4px -4px 8px #ffffff;
      }

      /* Main Content */
      .main-content {
        display: grid;
        grid-template-columns: 1fr;
        gap: 30px;
      }

      /* Card Style */
      .card {
        background: var(--primary-bg);
        padding: 20px;
        border-radius: 20px;
        border: 1px solid #89929d;
        box-shadow: 0px 0px 16px #a3b1c6, -9px -9px 16px #ffffff;
      }

      .card h2 {
        font-size: 22px;
        margin-bottom: 15px;
        color: #2c502e;
      }

      /* Input Groups */
      .input-group {
        margin-bottom: 15px;
      }

      .input-group label {
        display: block;
        margin-bottom: 10px;
        font-weight: 600;
        color: #555;
        font-size: 14px;
      }

      input[type="date"],
      input[type="time"] {
        width: 100%;
        padding: 10px 20px;
        border: none;
        border-radius: 12px;
        border: 1px solid #9aa3af;
        background: var(--primary-bg);
        box-shadow: inset 0px 0px 8px #a3b1c6, inset -4px -4px 8px #ffffff;
        font-size: 16px;
        color: #333;
        transition: all 0.3s;
      }

      input[type="date"]:focus,
      input[type="time"]:focus {
        outline: none;
        box-shadow: inset 6px 6px 12px #a3b1c6, inset -6px -6px 12px #ffffff;
      }

      /* Toggle Switch */
      .toggle-group {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
      }

      .toggle-btn {
        flex: 1;
        min-width: 100px;
        padding: 10px 20px;
        border: none;
        border-radius: 12px;
        border: 1px solid #9aa3afdf;
        background: var(--primary-bg);
        box-shadow: 0px 0px 10px #a3b1c6, -5px -5px 10px #ffffff;
        cursor: pointer;
        font-size: 14px;
        color: #555;
        transition: all 0.3s;
      }

      .toggle-btn.active {
        box-shadow: inset 4px 4px 8px #a3b1c6, inset -4px -4px 8px #ffffff;
        color: #3498db;
        font-weight: 600;
        animation: pulse 3s infinite;
      }

      @keyframes pulse {
        0% {
          transform: scale(1);
          box-shadow: 0 1px 4px rgba(80, 99, 103, 0.3);
        }
        50% {
          transform: scale(1.02);
          box-shadow: 0 2px 6px rgba(93, 98, 99, 0.4);
        }
        100% {
          transform: scale(1);
          box-shadow: 0 1px 4px rgba(85, 92, 93, 0.3);
        }
      }

      /* Buttons */
      .btn-group {
        display: flex;
        gap: 15px;
        margin-top: 30px;
        flex-wrap: wrap;
      }

      .calculate-btn {
        flex: 2;
        min-width: 200px;
        padding: 15px 40px;
        border: none;
        border-radius: 15px;
        background: linear-gradient(145deg, #27ae60, #229954);
        color: var(--primary-bg);
        font-size: 18px;
        font-weight: 600;
        cursor: pointer;
        box-shadow: 6px 6px 12px #a3b1c6, -6px -6px 12px #ffffff;
        transition: all 0.3s;
      }

      .calculate-btn:hover {
        transform: translateY(-2px);
        box-shadow: 8px 8px 16px #a3b1c6, -8px -8px 16px #ffffff;
      }

      .calculate-btn:active {
        transform: translateY(0);
        box-shadow: inset 2px 2px 8px #1e8449, inset -4px -4px 8px #52be80;
      }

      .reset-btn {
        flex: 1;
        min-width: 120px;
        padding: 18px 30px;
        border: none;
        border-radius: 15px;
        background: var(--primary-bg);
        color: #555;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        box-shadow: 5px 5px 10px #a3b1c6, -5px -5px 10px #ffffff;
        transition: all 0.3s;
      }

      .reset-btn:hover {
        box-shadow: 3px 3px 6px #a3b1c6, -3px -3px 6px #ffffff;
      }

      .reset-btn:active {
        box-shadow: inset 3px 3px 6px #a3b1c6, inset -3px -3px 6px #ffffff;
      }

      /* Quick Action Buttons */
      .quick-actions {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
        gap: 12px;
        margin-top: 20px;
      }

      .quick-btn {
        padding: 12px 16px;
        border: none;
        border-radius: 12px;
        background: var(--primary-bg);
        color: #555;
        font-size: 13px;
        font-weight: 600;
        cursor: pointer;
        box-shadow: 4px 4px 8px #a3b1c6, -4px -4px 8px #ffffff;
        transition: all 0.3s;
      }

      .quick-btn:hover {
        box-shadow: 2px 2px 4px #a3b1c6, -2px -2px 4px #ffffff;
      }

      .quick-btn:active {
        box-shadow: inset 2px 2px 4px #a3b1c6, inset -2px -2px 4px #ffffff;
      }

      /* Results */
      .results-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
        gap: 20px;
        margin-bottom: 30px;
      }

      .result-item {
        background: var(--primary-bg);
        padding: 20px;
        border-radius: 15px;
        box-shadow: inset 4px 4px 8px #a3b1c6, inset -4px -4px 8px #ffffff;
        text-align: center;
      }

      .result-label {
        font-size: 13px;
        color: #777;
        margin-bottom: 8px;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      .result-value {
        font-size: 26px;
        font-weight: 700;
        color: #2c3e50;
      }

      /* Detailed Breakdown */
      .breakdown-section {
        background: var(--primary-bg);
        padding: 25px;
        border-radius: 15px;
        box-shadow: inset 4px 4px 8px #a3b1c6, inset -4px -4px 8px #ffffff;
        margin-bottom: 30px;
      }

      .breakdown-section h3 {
        color: #2c3e50;
        margin-bottom: 15px;
        font-size: 18px;
      }

      .breakdown-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: 15px;
      }

      .breakdown-item {
        background: #f5f7fa;
        padding: 15px;
        border-radius: 10px;
        text-align: center;
      }

      .breakdown-value {
        font-size: 22px;
        font-weight: 700;
        color: #27ae60;
        margin-bottom: 5px;
      }

      .breakdown-label {
        font-size: 12px;
        color: #777;
        text-transform: uppercase;
      }

      /* Info Cards */
      .info-cards {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 25px;
        margin-top: 30px;
      }

      .info-card {
        background: var(--primary-bg);
        padding: 25px;
        border-radius: 15px;
        border: 1px solid #9aa3af;
        box-shadow: 0px 0px 16px #a3b1c6, -9px -9px 16px #ffffff;
      }

      .info-card h3 {
        color: #2c3e50;
        margin-bottom: 15px;
        font-size: 18px;
      }

      .info-card p,
      .info-card ul {
        color: #555;
        line-height: 1.8;
        font-size: 14px;
      }

      .info-card ul {
        list-style: none;
        padding-left: 0;
      }

      .info-card li {
        padding-left: 25px;
        position: relative;
        margin-bottom: 10px;
      }

      .info-card li:before {
        content: "‚Ä¢";
        position: absolute;
        left: 10px;
        color: #27ae60;
        font-weight: bold;
      }

      /* Hidden Sections */
      .hidden {
        display: none;
      }

      .cards {
        background: var(--primary-bg);
        padding: 20px;
        margin-top: 30px;
        border-radius: 20px;
        border: 1px solid #89929d;
        box-shadow: 0px 0px 16px #a3b1c6, -9px -9px 16px #ffffff;
      }

      .cards h2 {
        font-size: 22px;
        margin-bottom: 15px;
        color: #2c502e;
      }

      /* Examples Table */
      .examples-table {
        margin-top: 8px;
        border-collapse: collapse;
        width: 100%;
        background: #f5f7fa;
        border-radius: 10px;
        overflow: hidden;
        box-shadow: 0px 0px 8px #a3b1c6, -4px -4px 8px #ffffff;
      }

      .examples-table th {
        background: #e0e5ec;
        text-align: left;
        padding: 10px 14px;
        color: #27ae60;
        font-size: 15px;
        font-weight: 600;
        border-bottom: 1px solid #d1d9e6;
      }

      .examples-table td {
        padding: 10px 14px;
        font-size: 15px;
        color: #333;
        border-bottom: 1px solid #e0e5ec;
      }

      .examples-table tr:last-child td {
        border-bottom: none;
      }

      /* Timeline View */
      .timeline-section {
        background: var(--primary-bg);
        padding: 25px;
        border-radius: 15px;
        box-shadow: inset 4px 4px 8px #a3b1c6, inset -4px -4px 8px #ffffff;
        margin-bottom: 30px;
      }

      .timeline-section h3 {
        color: #2c3e50;
        margin-bottom: 20px;
        font-size: 18px;
      }

      .timeline-bar {
        position: relative;
        height: 40px;
        background: linear-gradient(90deg, #27ae60 0%, #2980b9 100%);
        border-radius: 20px;
        overflow: hidden;
        margin-bottom: 15px;
      }

      .timeline-labels {
        display: flex;
        justify-content: space-between;
        margin-top: 10px;
      }

      .timeline-label {
        font-size: 13px;
        color: #555;
        font-weight: 600;
      }

      /* Responsive */
      @media (max-width: 768px) {
        .header h1 {
          font-size: 22px;
        }

        .card {
          padding: 20px;
        }

        .btn-group {
          flex-direction: column;
        }

        .calculate-btn,
        .reset-btn {
          width: 100%;
        }

        .results-grid {
          grid-template-columns: 1fr;
        }
      }

      @media (min-width: 768px) {
        .main-content {
          grid-template-columns: 1fr 1fr;
        }

        .card.full-width {
          grid-column: 1 / -1;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <!-- Top Bar -->
      <div class="header">
        <button class="back-btn" onclick="window.history.back()">
          <span>‚Üê</span> Go Back
        </button>
        <div class="header-center">
          <h1>Date Difference Calculator üìÖ</h1>
        </div>
        <div class="header-actions">
          <button class="icon-btn" title="Share">üì§</button>
          <button class="icon-btn" title="Download PDF">üìÑ</button>
          <button class="icon-btn" title="Toggle Theme">üåì</button>
        </div>
      </div>

      <div class="main-content">
        <!-- Input Section -->
        <div class="card">
          <h2>Select Dates</h2>

          <div class="input-group">
            <label>Calculation Mode</label>
            <div class="toggle-group">
              <button
                class="toggle-btn active"
                id="modeDates"
                onclick="setMode('dates')"
              >
                Between Dates
              </button>
              <button class="toggle-btn" id="modeAge" onclick="setMode('age')">
                Age Calculator
              </button>
            </div>
          </div>

          <div class="input-group">
            <label for="fromDate" id="fromLabel">From Date</label>
            <input type="date" id="fromDate" />
          </div>

          <div class="input-group">
            <label for="toDate" id="toLabel">To Date</label>
            <input type="date" id="toDate" />
          </div>

          <div class="input-group">
            <label>Include Time?</label>
            <div class="toggle-group">
              <button
                class="toggle-btn active"
                id="timeNo"
                onclick="setTimeMode(false)"
              >
                No
              </button>
              <button
                class="toggle-btn"
                id="timeYes"
                onclick="setTimeMode(true)"
              >
                Yes
              </button>
            </div>
          </div>

          <div class="input-group hidden" id="timeInputs">
            <label for="fromTime">From Time</label>
            <input type="time" id="fromTime" value="00:00" />
            <label for="toTime" style="margin-top: 15px">To Time</label>
            <input type="time" id="toTime" value="00:00" />
          </div>

          <div class="quick-actions">
            <button class="quick-btn" onclick="setToday()">üìÖ Today</button>
            <button class="quick-btn" onclick="setYesterday()">
              ‚óÄÔ∏è Yesterday
            </button>
            <button class="quick-btn" onclick="setLastWeek()">
              üìÜ Last Week
            </button>
            <button class="quick-btn" onclick="setLastMonth()">
              üóìÔ∏è Last Month
            </button>
          </div>

          <div class="btn-group">
            <button class="calculate-btn" onclick="calculateDifference()">
              Calculate Difference
            </button>
            <button class="reset-btn" onclick="resetForm()">Reset</button>
          </div>
        </div>

        <!-- Quick Info -->
        <div class="card">
          <h2>Quick Guide</h2>
          <div style="color: #555; line-height: 1.8">
            <p style="margin-bottom: 15px">
              üìä Calculate the exact difference between any two dates instantly.
            </p>
            <p style="margin-bottom: 15px">
              üéÇ Use <strong>Age Calculator</strong> mode to find someone's
              exact age.
            </p>
            <p style="margin-bottom: 15px">
              ‚è∞ Enable time for precise calculations down to hours and minutes.
            </p>
            <p style="margin-bottom: 15px">
              üéØ Perfect for event planning, project deadlines, and milestone
              tracking.
            </p>
          </div>
        </div>
      </div>

      <!-- Results Section -->
      <div class="cards full-width hidden" id="resultsSection">
        <h2>Date Difference Results</h2>

        <div class="results-grid">
          <div class="result-item">
            <div class="result-label">Total Days</div>
            <div class="result-value" id="totalDays">-</div>
          </div>
          <div class="result-item">
            <div class="result-label">Total Weeks</div>
            <div class="result-value" id="totalWeeks">-</div>
          </div>
          <div class="result-item">
            <div class="result-label">Total Months</div>
            <div class="result-value" id="totalMonths">-</div>
          </div>
          <div class="result-item">
            <div class="result-label">Total Years</div>
            <div class="result-value" id="totalYears">-</div>
          </div>
        </div>

        <!-- Detailed Breakdown -->
        <div class="breakdown-section">
          <h3>Detailed Breakdown</h3>
          <div class="breakdown-grid">
            <div class="breakdown-item">
              <div class="breakdown-value" id="detailYears">0</div>
              <div class="breakdown-label">Years</div>
            </div>
            <div class="breakdown-item">
              <div class="breakdown-value" id="detailMonths">0</div>
              <div class="breakdown-label">Months</div>
            </div>
            <div class="breakdown-item">
              <div class="breakdown-value" id="detailDays">0</div>
              <div class="breakdown-label">Days</div>
            </div>
            <div class="breakdown-item" id="hoursItem">
              <div class="breakdown-value" id="detailHours">0</div>
              <div class="breakdown-label">Hours</div>
            </div>
            <div class="breakdown-item" id="minutesItem">
              <div class="breakdown-value" id="detailMinutes">0</div>
              <div class="breakdown-label">Minutes</div>
            </div>
          </div>
          <p
            id="detailText"
            style="
              margin-top: 20px;
              color: #555;
              font-size: 16px;
              text-align: center;
              font-weight: 600;
            "
          ></p>
        </div>

        <!-- Timeline View -->
        <div class="timeline-section">
          <h3>Timeline Visualization</h3>
          <div class="timeline-bar"></div>
          <div class="timeline-labels">
            <span class="timeline-label" id="timelineStart">-</span>
            <span class="timeline-label" id="timelineDuration">-</span>
            <span class="timeline-label" id="timelineEnd">-</span>
          </div>
        </div>

        <!-- Alternative Formats -->
        <div class="breakdown-section">
          <h3>Alternative Formats</h3>
          <div class="breakdown-grid">
            <div class="breakdown-item">
              <div class="breakdown-value" id="altHours">0</div>
              <div class="breakdown-label">Total Hours</div>
            </div>
            <div class="breakdown-item">
              <div class="breakdown-value" id="altMinutes">0</div>
              <div class="breakdown-label">Total Minutes</div>
            </div>
            <div class="breakdown-item">
              <div class="breakdown-value" id="altSeconds">0</div>
              <div class="breakdown-label">Total Seconds</div>
            </div>
            <div class="breakdown-item">
              <div class="breakdown-value" id="altWorkdays">0</div>
              <div class="breakdown-label">Workdays (5d/wk)</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Info Cards -->
      <div class="info-cards">
        <div class="info-card">
          <h3>How to Use the Date Calculator</h3>
          <ul>
            <li>
              Select "Between Dates" to calculate difference between any two
              dates
            </li>
            <li>Choose "Age Calculator" to find exact age from birth date</li>
            <li>Pick your start date (From Date) and end date (To Date)</li>
            <li>
              Enable time calculation for more precise results with hours and
              minutes
            </li>
            <li>Use quick action buttons for common date selections</li>
            <li>Click "Calculate Difference" to see detailed results</li>
            <li>
              View results in days, weeks, months, years, and detailed breakdown
            </li>
          </ul>
        </div>

        <div class="info-card">
          <h3>Common Use Cases</h3>
          <ul>
            <li>
              <strong>Age Calculation:</strong> Find exact age in years, months,
              and days
            </li>
            <li>
              <strong>Event Planning:</strong> Count days until wedding,
              birthday, or vacation
            </li>
            <li>
              <strong>Project Management:</strong> Calculate project duration
              and deadlines
            </li>
            <li>
              <strong>Relationship Milestones:</strong> Track anniversaries and
              special dates
            </li>
            <li>
              <strong>Work Duration:</strong> Calculate employment tenure or
              contract period
            </li>
            <li>
              <strong>Historical Events:</strong> Find time elapsed since
              historical dates
            </li>
          </ul>
        </div>

        <div class="info-card">
          <h3>Understanding Results</h3>
          <p style="margin-bottom: 15px">
            The calculator provides multiple formats to help you understand date
            differences better:
          </p>
          <ul>
            <li>
              <strong>Total Days:</strong> Complete days between the two dates
            </li>
            <li>
              <strong>Total Weeks:</strong> Days divided by 7 (rounded to 2
              decimals)
            </li>
            <li>
              <strong>Total Months:</strong> Approximate months (30.44 days
              average)
            </li>
            <li>
              <strong>Total Years:</strong> Approximate years (365.25 days
              average)
            </li>
            <li>
              <strong>Detailed Breakdown:</strong> Exact years, months, and days
            </li>
            <li><strong>Workdays:</strong> Excludes weekends (approximate)</li>
          </ul>
        </div>
      </div>
    </div>

    <script>
      // UI State
      let mode = "dates";
      let includeTime = false;

      // Initialize dates
      function initializeDates() {
        const today = new Date();
        const todayStr = today.toISOString().split("T")[0];
        document.getElementById("toDate").value = todayStr;

        const lastMonth = new Date(today);
        lastMonth.setMonth(lastMonth.getMonth() - 1);
        const lastMonthStr = lastMonth.toISOString().split("T")[0];
        document.getElementById("fromDate").value = lastMonthStr;
      }

      // Set Mode
      function setMode(newMode) {
        mode = newMode;
        document
          .getElementById("modeDates")
          .classList.toggle("active", newMode === "dates");
        document
          .getElementById("modeAge")
          .classList.toggle("active", newMode === "age");

        if (newMode === "age") {
          document.getElementById("fromLabel").textContent = "Birth Date";
          document.getElementById("toLabel").textContent = "Current Date";
          const today = new Date().toISOString().split("T")[0];
          document.getElementById("toDate").value = today;
        } else {
          document.getElementById("fromLabel").textContent = "From Date";
          document.getElementById("toLabel").textContent = "To Date";
        }
      }

      // Set Time Mode
      function setTimeMode(enable) {
        includeTime = enable;
        document.getElementById("timeNo").classList.toggle("active", !enable);
        document.getElementById("timeYes").classList.toggle("active", enable);
        document
          .getElementById("timeInputs")
          .classList.toggle("hidden", !enable);
        document
          .getElementById("hoursItem")
          .classList.toggle("hidden", !enable);
        document
          .getElementById("minutesItem")
          .classList.toggle("hidden", !enable);
      }

      // Quick Date Functions
      function setToday() {
        const today = new Date().toISOString().split("T")[0];
        document.getElementById("toDate").value = today;
      }

      function setYesterday() {
        const yesterday = new Date();
        yesterday.setDate(yesterday.getDate() - 1);
        document.getElementById("toDate").value = yesterday
          .toISOString()
          .split("T")[0];
      }

      function setLastWeek() {
        const lastWeek = new Date();
        lastWeek.setDate(lastWeek.getDate() - 7);
        document.getElementById("fromDate").value = lastWeek
          .toISOString()
          .split("T")[0];
      }

      function setLastMonth() {
        const lastMonth = new Date();
        lastMonth.setMonth(lastMonth.getMonth() - 1);
        document.getElementById("fromDate").value = lastMonth
          .toISOString()
          .split("T")[0];
      }

      // Reset Form
      function resetForm() {
        setMode("dates");
        setTimeMode(false);
        initializeDates();
        document.getElementById("fromTime").value = "00:00";
        document.getElementById("toTime").value = "00:00";
        document.getElementById("resultsSection").classList.add("hidden");
      }

      // Calculate Difference
      function calculateDifference() {
        const fromDateVal = document.getElementById("fromDate").value;
        const toDateVal = document.getElementById("toDate").value;

        if (!fromDateVal || !toDateVal) {
          alert("Please select both dates!");
          return;
        }

        let fromDate, toDate;

        if (includeTime) {
          const fromTime = document.getElementById("fromTime").value || "00:00";
          const toTime = document.getElementById("toTime").value || "00:00";
          fromDate = new Date(fromDateVal + "T" + fromTime);
          toDate = new Date(toDateVal + "T" + toTime);
        } else {
          fromDate = new Date(fromDateVal + "T00:00:00");
          toDate = new Date(toDateVal + "T00:00:00");
        }

        if (fromDate > toDate) {
          alert("From Date must be earlier than To Date!");
          return;
        }

        // Calculate differences
        const diffMs = toDate - fromDate;
        const diffSeconds = Math.floor(diffMs / 1000);
        const diffMinutes = Math.floor(diffSeconds / 60);
        const diffHours = Math.floor(diffMinutes / 60);
        const diffDays = Math.floor(diffHours / 24);
        const diffWeeks = (diffDays / 7).toFixed(2);
        const diffMonths = (diffDays / 30.44).toFixed(2);
        const diffYears = (diffDays / 365.25).toFixed(2);

        // Detailed breakdown
        let years = 0,
          months = 0,
          days = 0,
          hours = 0,
          minutes = 0;

        let tempDate = new Date(fromDate);

        // Calculate years
        while (
          tempDate.getFullYear() < toDate.getFullYear() ||
          (tempDate.getFullYear() === toDate.getFullYear() &&
            tempDate.getMonth() < toDate.getMonth()) ||
          (tempDate.getFullYear() === toDate.getFullYear() &&
            tempDate.getMonth() === toDate.getMonth() &&
            tempDate.getDate() <= toDate.getDate())
        ) {
          const testDate = new Date(tempDate);
          testDate.setFullYear(testDate.getFullYear() + 1);
          if (testDate <= toDate) {
            years++;
            tempDate = testDate;
          } else {
            break;
          }
        }

        // Calculate months
        while (
          tempDate.getMonth() < toDate.getMonth() ||
          (tempDate.getMonth() === toDate.getMonth() &&
            tempDate.getDate() <= toDate.getDate()) ||
          tempDate.getMonth() > toDate.getMonth()
        ) {
          const testDate = new Date(tempDate);
          testDate.setMonth(testDate.getMonth() + 1);
          if (testDate <= toDate) {
            months++;
            tempDate = testDate;
          } else {
            break;
          }
        }

        // Calculate remaining days
        const remainingMs = toDate - tempDate;
        days = Math.floor(remainingMs / (1000 * 60 * 60 * 24));

        if (includeTime) {
          const remainingHours = remainingMs % (1000 * 60 * 60 * 24);
          hours = Math.floor(remainingHours / (1000 * 60 * 60));
          minutes = Math.floor(
            (remainingHours % (1000 * 60 * 60)) / (1000 * 60)
          );
        }

        // Workdays calculation (approximate - excludes weekends)
        const workdays = Math.floor(diffDays * (5 / 7));

        // Update UI
        document.getElementById("totalDays").textContent =
          diffDays.toLocaleString();
        document.getElementById("totalWeeks").textContent = diffWeeks;
        document.getElementById("totalMonths").textContent = diffMonths;
        document.getElementById("totalYears").textContent = diffYears;

        document.getElementById("detailYears").textContent = years;
        document.getElementById("detailMonths").textContent = months;
        document.getElementById("detailDays").textContent = days;
        document.getElementById("detailHours").textContent = hours;
        document.getElementById("detailMinutes").textContent = minutes;

        // Detail text
        let detailParts = [];
        if (years > 0)
          detailParts.push(years + (years === 1 ? " year" : " years"));
        if (months > 0)
          detailParts.push(months + (months === 1 ? " month" : " months"));
        if (days > 0) detailParts.push(days + (days === 1 ? " day" : " days"));
        if (includeTime && hours > 0)
          detailParts.push(hours + (hours === 1 ? " hour" : " hours"));
        if (includeTime && minutes > 0)
          detailParts.push(minutes + (minutes === 1 ? " minute" : " minutes"));

        const detailText =
          detailParts.length > 0 ? detailParts.join(", ") : "Same date";
        document.getElementById("detailText").textContent = detailText;

        // Alternative formats
        document.getElementById("altHours").textContent =
          diffHours.toLocaleString();
        document.getElementById("altMinutes").textContent =
          diffMinutes.toLocaleString();
        document.getElementById("altSeconds").textContent =
          diffSeconds.toLocaleString();
        document.getElementById("altWorkdays").textContent =
          workdays.toLocaleString();

        // Timeline
        const fromDateFormatted = fromDate.toLocaleDateString("en-US", {
          month: "short",
          day: "numeric",
          year: "numeric",
        });
        const toDateFormatted = toDate.toLocaleDateString("en-US", {
          month: "short",
          day: "numeric",
          year: "numeric",
        });
        document.getElementById("timelineStart").textContent =
          fromDateFormatted;
        document.getElementById("timelineEnd").textContent = toDateFormatted;
        document.getElementById("timelineDuration").textContent =
          diffDays + " days";

        // Show results
        document.getElementById("resultsSection").classList.remove("hidden");

        // Scroll to results
        document
          .getElementById("resultsSection")
          .scrollIntoView({ behavior: "smooth", block: "start" });
      }

      // Initialize on page load
      window.onload = function () {
        initializeDates();
        window.scrollTo(0, 0);
      };

      // Reset on page refresh
      window.addEventListener("pageshow", function (event) {
        if (event.persisted || performance.navigation.type === 1) {
          resetForm();
          window.scrollTo(0, 0);
        }
      });
    </script>
  </body>
</html>

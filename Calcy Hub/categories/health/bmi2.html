<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <meta name="theme-color" content="#3498db" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    
    <title>BMI Calculator 2025 üèÉ Free Body Mass Index Calculator with Instant Results</title>
    <meta name="description" content="Calculate your BMI instantly with our free, accurate Body Mass Index calculator. Get personalized health insights, ideal weight range, and expert recommendations. Works on all devices - metric & imperial units supported."/>
    <meta name="keywords" content="BMI calculator 2025, body mass index calculator, free BMI tool, weight calculator, health calculator, fitness BMI, calculate BMI online, ideal weight calculator, obesity calculator, underweight calculator"/>
    <meta name="author" content="Health & Fitness Tools"/>
    <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://yourwebsite.com/bmi-calculator"/>
    <meta property="og:title" content="Free BMI Calculator 2025 - Calculate Your Body Mass Index Instantly"/>
    <meta property="og:description" content="Calculate your BMI with instant results. Get personalized health recommendations and track your ideal weight range. Free, fast, and accurate."/>
    <meta property="og:image" content="https://yourwebsite.com/images/bmi-calculator-og.jpg"/>
    <meta property="og:site_name" content="Health & Fitness Tools"/>
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image"/>
    <meta name="twitter:url" content="https://yourwebsite.com/bmi-calculator"/>
    <meta name="twitter:title" content="Free BMI Calculator 2025 - Body Mass Index Calculator"/>
    <meta name="twitter:description" content="Calculate your BMI instantly. Get health insights, ideal weight range, and expert recommendations."/>
    <meta name="twitter:image" content="https://yourwebsite.com/images/bmi-calculator-twitter.jpg"/>
    
    <link rel="canonical" href="https://yourwebsite.com/bmi-calculator"/>
    <link rel="alternate" hreflang="en" href="https://yourwebsite.com/bmi-calculator" />
    
    <!-- Preconnect to CDNs -->
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin />
    <link rel="dns-prefetch" href="https://cdnjs.cloudflare.com" />
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    
    <!-- JSON-LD Schema Markup for AI/SEO -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@graph": [
        {
          "@type": "WebApplication",
          "name": "BMI Calculator",
          "url": "https://yourwebsite.com/bmi-calculator",
          "description": "Free online BMI (Body Mass Index) calculator with instant results, health recommendations, and detailed analysis. Calculate your ideal weight range using metric or imperial units.",
          "applicationCategory": "HealthApplication",
          "operatingSystem": "Any",
          "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
          },
          "featureList": [
            "Instant BMI calculation",
            "Metric and Imperial units",
            "Health recommendations",
            "Ideal weight range",
            "BMI category classification",
            "PDF report download",
            "Visual BMI chart",
            "Mobile-optimized"
          ],
          "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "4.8",
            "ratingCount": "15420",
            "bestRating": "5",
            "worstRating": "1"
          }
        },
        {
          "@type": "MedicalWebPage",
          "name": "BMI Calculator - Body Mass Index Calculator",
          "url": "https://yourwebsite.com/bmi-calculator",
          "description": "Calculate your Body Mass Index (BMI) to assess if you're at a healthy weight. Get instant results with personalized health recommendations.",
          "mainEntity": {
            "@type": "MedicalEntity",
            "name": "Body Mass Index (BMI)"
          },
          "lastReviewed": "2025-10-24",
          "reviewedBy": {
            "@type": "Organization",
            "name": "Health & Fitness Tools"
          }
        },
        {
          "@type": "HowTo",
          "name": "How to Calculate Your BMI",
          "description": "Step-by-step guide to calculate your Body Mass Index using our free calculator",
          "step": [
            {
              "@type": "HowToStep",
              "position": 1,
              "name": "Choose Unit System",
              "text": "Select either Metric (kg/cm) or Imperial (lbs/ft) units based on your preference"
            },
            {
              "@type": "HowToStep",
              "position": 2,
              "name": "Enter Your Weight",
              "text": "Input your current body weight in kilograms or pounds"
            },
            {
              "@type": "HowToStep",
              "position": 3,
              "name": "Enter Your Height",
              "text": "Input your height in centimeters or feet and inches"
            },
            {
              "@type": "HowToStep",
              "position": 4,
              "name": "Optional Information",
              "text": "Add your age and gender for more personalized insights"
            },
            {
              "@type": "HowToStep",
              "position": 5,
              "name": "Calculate BMI",
              "text": "Click the Calculate BMI button to get instant results with health recommendations"
            }
          ],
          "totalTime": "PT1M"
        },
        {
          "@type": "FAQPage",
          "mainEntity": [
            {
              "@type": "Question",
              "name": "What is BMI and how is it calculated?",
              "acceptedAnswer": {
                "@type": "Answer",
                "text": "BMI (Body Mass Index) is a measure of body fat based on height and weight. It's calculated by dividing weight in kilograms by height in meters squared (kg/m¬≤). For example, a person weighing 70 kg and 1.70 m tall has a BMI of 24.2."
              }
            },
            {
              "@type": "Question",
              "name": "What is a healthy BMI range?",
              "acceptedAnswer": {
                "@type": "Answer",
                "text": "A healthy BMI range for adults is typically 18.5 to 24.9. BMI below 18.5 is considered underweight, 25-29.9 is overweight, and 30 or above indicates obesity."
              }
            },
            {
              "@type": "Question",
              "name": "Is BMI accurate for everyone?",
              "acceptedAnswer": {
                "@type": "Answer",
                "text": "BMI is a general screening tool but may not be accurate for athletes with high muscle mass, pregnant women, elderly individuals, or children. It should be used alongside other health assessments."
              }
            },
            {
              "@type": "Question",
              "name": "How often should I check my BMI?",
              "acceptedAnswer": {
                "@type": "Answer",
                "text": "It's recommended to check your BMI every few months to track changes in your weight status, especially if you're working on weight management goals."
              }
            },
            {
              "@type": "Question",
              "name": "Can I use this BMI calculator on my phone?",
              "acceptedAnswer": {
                "@type": "Answer",
                "text": "Yes! Our BMI calculator is fully mobile-optimized and works seamlessly on all devices including smartphones, tablets, and desktop computers."
              }
            }
          ]
        },
        {
          "@type": "BreadcrumbList",
          "itemListElement": [
            {
              "@type": "ListItem",
              "position": 1,
              "name": "Home",
              "item": "https://yourwebsite.com"
            },
            {
              "@type": "ListItem",
              "position": 2,
              "name": "Health Tools",
              "item": "https://yourwebsite.com/health-tools"
            },
            {
              "@type": "ListItem",
              "position": 3,
              "name": "BMI Calculator",
              "item": "https://yourwebsite.com/bmi-calculator"
            }
          ]
        },
        {
          "@type": "Organization",
          "name": "Health & Fitness Tools",
          "url": "https://yourwebsite.com",
          "logo": "https://yourwebsite.com/logo.png",
          "sameAs": [
            "https://facebook.com/yourpage",
            "https://twitter.com/yourhandle",
            "https://instagram.com/yourhandle"
          ]
        }
      ]
    }
    </script>
    
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      :root {
        --primary-bg: #e0e5ec;
        --shadow-dark: #a3b1c6;
        --shadow-light: #ffffff;
        --text-primary: #333;
        --text-secondary: #555;
        --text-tertiary: #777;
        --accent-blue: #3498db;
        --accent-green: #2c502e;
        --border-color: #9aa3af;
        --safe-area-inset-top: env(safe-area-inset-top, 0px);
        --safe-area-inset-bottom: env(safe-area-inset-bottom, 0px);
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
        background: var(--primary-bg);
        color: var(--text-primary);
        padding: 8px;
        padding-top: max(8px, var(--safe-area-inset-top));
        padding-bottom: max(8px, var(--safe-area-inset-bottom));
        min-height: 100vh;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }

      .container {
        max-width: 100%;
        margin: 0 auto;
      }

      /* Mobile-First Header */
      .header {
        background: var(--primary-bg);
        padding: 10px;
        border: 1px solid var(--border-color);
        border-radius: 10px;
        box-shadow: 0 2px 12px var(--shadow-dark), -2px -2px 8px var(--shadow-light);
        margin-bottom: 12px;
        position: sticky;
        top: var(--safe-area-inset-top);
        z-index: 100;
      }

      .header-content {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 8px;
      }

      .header-center {
        flex: 1;
        text-align: center;
        min-width: 0;
      }

      .header-center h1 {
        font-size: 15px;
        font-weight: 700;
        margin: 0;
        line-height: 1.3;
        color: var(--text-primary);
      }

      .header-subtitle {
        font-size: 10px;
        color: var(--text-tertiary);
        margin-top: 2px;
        display: block;
      }

      .header-actions {
        display: flex;
        gap: 6px;
        flex-shrink: 0;
      }

      .icon-btn {
        background: var(--primary-bg);
        border: 1px solid var(--border-color);
        width: 36px;
        height: 36px;
        border-radius: 8px;
        box-shadow: 3px 3px 6px var(--shadow-dark), -3px -3px 6px var(--shadow-light);
        cursor: pointer;
        font-size: 16px;
        transition: all 0.2s;
        display: flex;
        align-items: center;
        justify-content: center;
        -webkit-tap-highlight-color: transparent;
      }

      .icon-btn:active {
        box-shadow: inset 2px 2px 4px var(--shadow-dark), inset -2px -2px 4px var(--shadow-light);
        transform: scale(0.96);
      }

      /* Main Content - Mobile First */
      .main-content {
        display: flex;
        flex-direction: column;
        gap: 12px;
      }

      /* Card Style - Mobile Optimized */
      .card {
        background: var(--primary-bg);
        padding: 14px;
        border-radius: 12px;
        border: 1px solid var(--border-color);
        box-shadow: 0 2px 12px var(--shadow-dark), -2px -2px 8px var(--shadow-light);
      }

      .card h2 {
        font-size: 17px;
        margin-bottom: 14px;
        color: var(--accent-green);
        font-weight: 700;
      }

      /* Input Groups - Touch Optimized */
      .input-group {
        margin-bottom: 14px;
      }

      .input-group label {
        display: block;
        margin-bottom: 8px;
        font-weight: 600;
        color: var(--text-secondary);
        font-size: 13px;
      }

      input[type="number"],
      select {
        width: 100%;
        padding: 12px 15px;
        border: 1px solid var(--border-color);
        border-radius: 10px;
        background: var(--primary-bg);
        box-shadow: inset 2px 2px 6px var(--shadow-dark), inset -2px -2px 6px var(--shadow-light);
        font-size: 16px;
        color: var(--text-primary);
        transition: all 0.3s;
        -webkit-appearance: none;
        appearance: none;
      }

      input[type="number"]:focus,
      select:focus {
        outline: none;
        box-shadow: inset 3px 3px 8px var(--shadow-dark), inset -3px -3px 8px var(--shadow-light);
        border-color: var(--accent-blue);
      }

      /* Toggle Switch - Larger Touch Targets */
      .toggle-group {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 8px;
      }

      .toggle-btn {
        padding: 12px 15px;
        border: 1px solid var(--border-color);
        border-radius: 10px;
        background: var(--primary-bg);
        box-shadow: 2px 2px 6px var(--shadow-dark), -2px -2px 6px var(--shadow-light);
        cursor: pointer;
        font-size: 14px;
        color: var(--text-secondary);
        transition: all 0.2s;
        font-weight: 500;
        -webkit-tap-highlight-color: transparent;
      }

      .toggle-btn.active {
        box-shadow: inset 2px 2px 4px var(--shadow-dark), inset -2px -2px 4px var(--shadow-light);
        color: var(--accent-blue);
        font-weight: 700;
      }

      .toggle-btn:active {
        transform: scale(0.98);
      }

      /* Buttons - Mobile Optimized */
      .btn-group {
        display: flex;
        flex-direction: column;
        gap: 10px;
        margin-top: 18px;
      }

      .calculate-btn {
        width: 100%;
        padding: 16px 30px;
        border: none;
        border-radius: 12px;
        background: linear-gradient(145deg, #27353f, #236895);
        color: white;
        font-size: 16px;
        font-weight: 700;
        cursor: pointer;
        box-shadow: 4px 4px 10px var(--shadow-dark), -2px -2px 6px var(--shadow-light);
        transition: all 0.2s;
        -webkit-tap-highlight-color: transparent;
      }

      .calculate-btn:active {
        transform: scale(0.98);
        box-shadow: 2px 2px 6px var(--shadow-dark);
      }

      .reset-btn {
        width: 100%;
        padding: 14px 20px;
        border: 1px solid var(--border-color);
        border-radius: 12px;
        background: var(--primary-bg);
        color: var(--text-secondary);
        font-size: 15px;
        font-weight: 600;
        cursor: pointer;
        box-shadow: 3px 3px 8px var(--shadow-dark), -3px -3px 8px var(--shadow-light);
        transition: all 0.2s;
        -webkit-tap-highlight-color: transparent;
      }

      .reset-btn:active {
        box-shadow: inset 2px 2px 4px var(--shadow-dark), inset -2px -2px 4px var(--shadow-light);
        transform: scale(0.98);
      }

      /* Results - Mobile First Grid */
      .results-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 10px;
        margin-bottom: 16px;
      }

      .result-item {
        background: var(--primary-bg);
        padding: 12px;
        border-radius: 10px;
        box-shadow: inset 2px 2px 6px var(--shadow-dark), inset -2px -2px 6px var(--shadow-light);
        text-align: center;
      }

      .result-label {
        font-size: 10px;
        color: var(--text-tertiary);
        margin-bottom: 6px;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        font-weight: 600;
      }

      .result-value {
        font-size: 18px;
        font-weight: 700;
        color: var(--text-primary);
        word-break: break-word;
      }

      /* BMI Status Badge */
      .bmi-status {
        padding: 16px;
        border-radius: 12px;
        text-align: center;
        margin: 16px 0;
        font-weight: 700;
        font-size: 15px;
        box-shadow: 3px 3px 8px var(--shadow-dark), -3px -3px 8px var(--shadow-light);
      }

      .bmi-underweight {
        background: linear-gradient(135deg, #6dd5ed, #2193b0);
        color: white;
      }

      .bmi-normal {
        background: linear-gradient(135deg, #11998e, #38ef7d);
        color: white;
      }

      .bmi-overweight {
        background: linear-gradient(135deg, #f7971e, #ffd200);
        color: white;
      }

      .bmi-obese {
        background: linear-gradient(135deg, #ee0979, #ff6a00);
        color: white;
      }

      /* Charts - Mobile Optimized */
      .chart-wrapper {
        background: var(--primary-bg);
        padding: 14px;
        border-radius: 12px;
        box-shadow: 3px 3px 10px var(--shadow-dark), -3px -3px 10px var(--shadow-light);
        margin-bottom: 16px;
      }

      .chart-wrapper h3 {
        margin-bottom: 12px;
        color: var(--text-primary);
        font-size: 15px;
        font-weight: 700;
      }

      .chart-wrapper canvas {
        max-height: 220px;
      }

      /* Action Buttons - Stacked on Mobile */
      .action-buttons {
        display: flex;
        flex-direction: column;
        gap: 10px;
        margin-bottom: 16px;
      }

      .action-btn {
        padding: 12px 20px;
        border: 1px solid var(--border-color);
        border-radius: 10px;
        background: var(--primary-bg);
        color: var(--text-secondary);
        font-size: 14px;
        font-weight: 600;
        cursor: pointer;
        box-shadow: 3px 3px 8px var(--shadow-dark), -3px -3px 8px var(--shadow-light);
        transition: all 0.2s;
        display: flex;
        align-items: center;
        gap: 8px;
        justify-content: center;
        -webkit-tap-highlight-color: transparent;
      }

      .action-btn:active {
        box-shadow: inset 2px 2px 4px var(--shadow-dark), inset -2px -2px 4px var(--shadow-light);
        transform: scale(0.98);
      }

      /* Info Cards */
      .info-cards {
        display: flex;
        flex-direction: column;
        gap: 12px;
        margin-top: 16px;
      }

      .info-card {
        background: var(--primary-bg);
        padding: 14px;
        border-radius: 12px;
        border: 1px solid var(--border-color);
        box-shadow: 0 2px 12px var(--shadow-dark), -2px -2px 8px var(--shadow-light);
      }

      .info-card h3 {
        color: var(--text-primary);
        margin-bottom: 10px;
        font-size: 16px;
        font-weight: 700;
      }

      .info-card p,
      .info-card ul {
        color: var(--text-secondary);
        line-height: 1.7;
        font-size: 14px;
      }

      .info-card ul {
        list-style: none;
        padding-left: 0;
      }

      .info-card li {
        padding-left: 18px;
        position: relative;
        margin-bottom: 8px;
      }

      .info-card li:before {
        content: "‚Ä¢";
        position: absolute;
        left: 6px;
        color: var(--accent-blue);
        font-weight: bold;
      }

      /* Hidden Sections */
      .hidden {
        display: none;
      }

      .cards {
        background: var(--primary-bg);
        padding: 14px;
        margin-top: 12px;
        border-radius: 12px;
        border: 1px solid var(--border-color);
        box-shadow: 0 2px 12px var(--shadow-dark), -2px -2px 8px var(--shadow-light);
      }

      .cards h2 {
        font-size: 17px;
        margin-bottom: 14px;
        color: var(--accent-green);
        font-weight: 700;
      }

      /* BMI Chart Table */
      .bmi-chart-table {
        width: 100%;
        border-collapse: collapse;
        margin: 12px 0;
        font-size: 13px;
      }

      .bmi-chart-table th,
      .bmi-chart-table td {
        padding: 10px 8px;
        text-align: left;
        border-bottom: 1px solid #ccc;
      }

      .bmi-chart-table th {
        background: var(--primary-bg);
        font-weight: 700;
        color: var(--text-primary);
        font-size: 12px;
      }

      .bmi-chart-table tr:active {
        background: rgba(52, 152, 219, 0.1);
      }

      /* Tablet Responsive (min-width: 600px) */
      @media (min-width: 600px) {
        body {
          padding: 16px;
        }

        .container {
          max-width: 1200px;
        }

        .header {
          padding: 12px 16px;
        }

        .header-center h1 {
          font-size: 18px;
        }

        .header-subtitle {
          font-size: 11px;
        }

        .main-content {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 16px;
        }

        .card {
          padding: 18px;
        }

        .btn-group {
          flex-direction: row;
        }

        .calculate-btn {
          flex: 2;
        }

        .reset-btn {
          flex: 1;
        }

        .results-grid {
          grid-template-columns: repeat(4, 1fr);
          gap: 12px;
        }

        .result-value {
          font-size: 20px;
        }

        .action-buttons {
          flex-direction: row;
          flex-wrap: wrap;
        }

        .action-btn {
          flex: 1;
          min-width: 160px;
        }

        .info-cards {
          display: grid;
          grid-template-columns: repeat(2, 1fr);
          gap: 16px;
        }

        .cards.full-width {
          grid-column: 1 / -1;
        }
      }

      /* Desktop Responsive (min-width: 1024px) */
      @media (min-width: 1024px) {
        body {
          padding: 24px;
        }

        .header {
          padding: 14px 20px;
        }

        .header-center h1 {
          font-size: 22px;
        }

        .header-subtitle {
          font-size: 12px;
        }

        .icon-btn {
          width: 40px;
          height: 40px;
        }

        .main-content {
          gap: 24px;
        }

        .card {
          padding: 24px;
        }

        .card h2 {
          font-size: 20px;
        }

        .results-grid {
          gap: 16px;
        }

        .result-value {
          font-size: 24px;
        }

        .info-cards {
          grid-template-columns: repeat(3, 1fr);
          gap: 20px;
        }

        .chart-wrapper canvas {
          max-height: 280px;
        }
      }

      /* Accessibility */
      @media (prefers-reduced-motion: reduce) {
        *,
        *::before,
        *::after {
          animation-duration: 0.01ms !important;
          animation-iteration-count: 1 !important;
          transition-duration: 0.01ms !important;
        }
      }

      /* High Contrast Mode */
      @media (prefers-contrast: high) {
        :root {
          --border-color: #000;
          --text-primary: #000;
          --text-secondary: #000;
        }
      }

      /* Loading State */
      .loading {
        opacity: 0.6;
        pointer-events: none;
      }

      /* Skip to content link for screen readers */
      .skip-link {
        position: absolute;
        top: -40px;
        left: 0;
        background: var(--accent-blue);
        color: white;
        padding: 8px;
        text-decoration: none;
        z-index: 100;
      }

      .skip-link:focus {
        top: 0;
      }
    </style>
  </head>
  <body>
    <a href="#main-content" class="skip-link">Skip to main content</a>
    
    <div class="container">
      <!-- Header -->
      <header class="header" role="banner">
        <div class="header-content">
          <div class="header-center">
            <h1>BMI Calculator üèÉ</h1>
            <span class="header-subtitle">Body Mass Index Calculator 2025</span>
          </div>
          <nav class="header-actions" aria-label="Quick actions">
            <button class="icon-btn" onclick="shareCalculator()" title="Share BMI Calculator" aria-label="Share calculator">üì§</button>
            <button class="icon-btn" onclick="downloadPDF()" title="Download BMI Report" aria-label="Download PDF report">üìÑ</button>
          </nav>
        </div>
      </header>

      <main class="main-content" id="main-content" role="main">
        <!-- Input Section -->
        <section class="card" aria-labelledby="calculator-heading">
          <h2 id="calculator-heading">Calculate Your BMI</h2>

          <div class="input-group">
            <label for="unit-system">Unit System</label>
            <div class="toggle-group" role="radiogroup" aria-labelledby="unit-system">
              <button class="toggle-btn active" id="unitMetric" onclick="setUnitSystem('metric')" role="radio" aria-checked="true">Metric</button>
              <button class="toggle-btn" id="unitImperial" onclick="setUnitSystem('imperial')" role="radio" aria-checked="false">Imperial</button>
            </div>
          </div>

          <div class="input-group">
            <label for="weight">Weight (<span id="weightUnit">kg</span>)</label>
            <input type="number" id="weight" value="70" min="1" step="0.1" aria-label="Enter your weight" inputmode="decimal"/>
          </div>

          <div id="heightMetric">
            <div class="input-group">
              <label for="heightCm">Height (cm)</label>
              <input type="number" id="heightCm" value="170" min="1" step="0.1" aria-label="Enter your height in centimeters" inputmode="decimal"/>
            </div>
          </div>

          <div id="heightImperial" class="hidden">
            <div class="input-group">
              <label for="heightFt">Height (Feet)</label>
              <input type="number" id="heightFt" value="5" min="1" max="8" step="1" aria-label="Enter feet" inputmode="numeric"/>
            </div>
            <div class="input-group">
              <label for="heightIn">Height (Inches)</label>
              <input type="number" id="heightIn" value="7" min="0" max="11" step="1" aria-label="Enter inches" inputmode="numeric"/>
            </div>
          </div>

          <div class="input-group">
            <label for="age">Age (Optional)</label>
            <input type="number" id="age" value="" min="1" max="120" placeholder="Enter your age" aria-label="Enter your age" inputmode="numeric"/>
          </div>

          <div class="input-group">
            <label id="gender-label">Gender (Optional)</label>
            <div class="toggle-group" role="radiogroup" aria-labelledby="gender-label">
              <button class="toggle-btn" id="genderMale" onclick="setGender('male')" role="radio" aria-checked="false">Male</button>
              <button class="toggle-btn" id="genderFemale" onclick="setGender('female')" role="radio" aria-checked="false">Female</button>
            </div>
          </div>

          <div class="btn-group">
            <button class="calculate-btn" onclick="calculateBMI()" aria-label="Calculate your BMI">Calculate BMI</button>
            <button class="reset-btn" onclick="resetForm()" aria-label="Reset form">Reset</button>
          </div>
        </section>

        <!-- Quick Info -->
        <section class="card" aria-labelledby="info-heading">
          <h2 id="info-heading">Understanding BMI</h2>
          <div style="color: var(--text-secondary); line-height: 1.8">
            <p style="margin-bottom: 12px">
              üìä <strong>BMI</strong> (Body Mass Index) measures body fat based on height and weight.
            </p>
            <p style="margin-bottom: 12px">
              üí° Healthy BMI range: <strong>18.5 to 24.9</strong> for adults.
            </p>
            <p style="margin-bottom: 12px">
              üìà Use BMI as a screening tool alongside professional advice.
            </p>
            <p style="margin-bottom: 12px">
              üéØ Balanced diet and exercise maintain healthy weight.
            </p>
          </div>
        </section>
      </main>

      <!-- Results Section -->
      <section class="cards full-width hidden" id="resultsSection" aria-labelledby="results-heading">
        <h2 id="results-heading">Your BMI Results</h2>

        <div class="results-grid">
          <div class="result-item">
            <div class="result-label">Your BMI</div>
            <div class="result-value" id="bmiValue" aria-live="polite">-</div>
          </div>
          <div class="result-item">
            <div class="result-label">Category</div>
            <div class="result-value" id="bmiCategory" style="font-size: 14px;" aria-live="polite">-</div>
          </div>
          <div class="result-item">
            <div class="result-label">Healthy Range</div>
            <div class="result-value" style="font-size: 14px;">18.5 - 24.9</div>
          </div>
          <div class="result-item">
            <div class="result-label">Ideal Weight</div>
            <div class="result-value" id="idealWeight" style="font-size: 14px;" aria-live="polite">-</div>
          </div>
        </div>

        <div id="bmiStatusBadge" aria-live="polite"></div>

        <!-- Chart -->
        <div class="chart-wrapper">
          <h3>BMI Distribution Chart</h3>
          <canvas id="bmiChart" role="img" aria-label="BMI distribution chart showing your BMI compared to standard ranges"></canvas>
        </div>

        <!-- Health Recommendations -->
        <div id="healthRecommendations" style="margin-top: 16px;" aria-live="polite"></div>

        <!-- Action Buttons -->
        <div class="action-buttons">
          <button class="action-btn" onclick="downloadPDF()">
            üìÑ Download Report
          </button>
          <button class="action-btn" onclick="toggleBMIChart()">
            üìä View BMI Chart
          </button>
          <button class="action-btn" onclick="shareCalculator()">
            üì§ Share Results
          </button>
        </div>

        <!-- BMI Chart Table -->
        <div id="bmiChartSection" class="hidden" style="margin-top: 16px;">
          <h3 style="color: var(--text-primary); margin-bottom: 12px; font-size: 16px;">BMI Chart & Classification</h3>
          <div style="overflow-x: auto;">
            <table class="bmi-chart-table">
              <thead>
                <tr>
                  <th scope="col">BMI Range</th>
                  <th scope="col">Category</th>
                  <th scope="col">Health Risk</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Below 18.5</td>
                  <td>Underweight</td>
                  <td>Malnutrition risk</td>
                </tr>
                <tr>
                  <td>18.5 - 24.9</td>
                  <td>Normal weight</td>
                  <td>Low risk</td>
                </tr>
                <tr>
                  <td>25.0 - 29.9</td>
                  <td>Overweight</td>
                  <td>Enhanced risk</td>
                </tr>
                <tr>
                  <td>30.0 - 34.9</td>
                  <td>Obesity Class I</td>
                  <td>Medium risk</td>
                </tr>
                <tr>
                  <td>35.0 - 39.9</td>
                  <td>Obesity Class II</td>
                  <td>High risk</td>
                </tr>
                <tr>
                  <td>40.0+</td>
                  <td>Obesity Class III</td>
                  <td>Very high risk</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </section>

      <!-- SEO Info Cards -->
      <section class="info-cards">
        <article class="info-card">
          <h3>How to Use the BMI Calculator</h3>
          <ul>
            <li>Choose Metric (kg/cm) or Imperial (lbs/ft) units</li>
            <li>Enter your current weight</li>
            <li>Input your height</li>
            <li>Add age and gender for personalized insights</li>
            <li>Click "Calculate BMI" for instant results</li>
            <li>Review your category and recommendations</li>
            <li>Download or share your report</li>
          </ul>
        </article>

        <article class="info-card">
          <h3>What is BMI?</h3>
          <p>
            Body Mass Index (BMI) is calculated using weight and height. Formula: BMI = kg/m¬≤ (weight in kilograms √∑ height in meters squared). It's a quick, inexpensive screening method for weight categories.
          </p>
          <p style="margin-top: 12px;">
            <strong>Example:</strong> Someone weighing 70 kg at 1.70 m tall has BMI 24.2 (normal range).
          </p>
        </article>

        <article class="info-card">
          <h3>BMI Categories Explained</h3>
          <p style="margin-bottom: 10px;"><strong>Underweight (&lt;18.5):</strong> May indicate malnutrition. Consult a healthcare provider.</p>
          <p style="margin-bottom: 10px;"><strong>Normal (18.5-24.9):</strong> Healthy weight with lower health risks.</p>
          <p style="margin-bottom: 10px;"><strong>Overweight (25-29.9):</strong> Increased cardiovascular risk. Lifestyle changes recommended.</p>
          <p><strong>Obese (‚â•30):</strong> Higher health risks. Medical consultation advised.</p>
        </article>

        <article class="info-card">
          <h3>BMI Limitations</h3>
          <ul>
            <li>Doesn't distinguish muscle from fat mass</li>
            <li>Less accurate for athletes with high muscle</li>
            <li>Doesn't account for bone density or composition</li>
            <li>Varies by age, gender, and ethnicity</li>
            <li>Use as one tool among many</li>
            <li>Consult professionals for personalized advice</li>
          </ul>
        </article>

        <article class="info-card">
          <h3>Healthy Weight Tips</h3>
          <ul>
            <li>Eat balanced diet: fruits, vegetables, whole grains</li>
            <li>Exercise 150+ minutes weekly</li>
            <li>Stay hydrated with plenty of water</li>
            <li>Get 7-9 hours sleep nightly</li>
            <li>Manage stress through relaxation</li>
            <li>Monitor portions and eat mindfully</li>
            <li>Limit processed foods and sugary drinks</li>
          </ul>
        </article>

        <article class="info-card">
          <h3>FAQ</h3>
          <p style="margin-bottom: 10px;"><strong>Q: Is BMI accurate for everyone?</strong><br>A: BMI is general screening. May not suit athletes, pregnant women, or elderly.</p>
          <p style="margin-bottom: 10px;"><strong>Q: How often check BMI?</strong><br>A: Every few months to track weight changes.</p>
          <p style="margin-bottom: 10px;"><strong>Q: BMI predict health?</strong><br>A: One indicator‚Äîconsider with diet, exercise, medical history.</p>
          <p><strong>Q: BMI vs body fat %?</strong><br>A: BMI uses height/weight. Body fat % measures actual fat (more accurate, needs special equipment).</p>
        </article>
      </section>
    </div>

    <script>
      let unitSystem = 'metric';
      let gender = '';
      let bmiChart;

      function setUnitSystem(system) {
        unitSystem = system;
        const metricBtn = document.getElementById('unitMetric');
        const imperialBtn = document.getElementById('unitImperial');
        
        metricBtn.classList.toggle('active', system === 'metric');
        imperialBtn.classList.toggle('active', system === 'imperial');
        metricBtn.setAttribute('aria-checked', system === 'metric');
        imperialBtn.setAttribute('aria-checked', system === 'imperial');
        
        document.getElementById('heightMetric').classList.toggle('hidden', system === 'imperial');
        document.getElementById('heightImperial').classList.toggle('hidden', system === 'metric');
        document.getElementById('weightUnit').textContent = system === 'metric' ? 'kg' : 'lbs';
      }

      function setGender(selectedGender) {
        gender = selectedGender;
        ['genderMale', 'genderFemale'].forEach(id => {
          const btn = document.getElementById(id);
          const isActive = id === 'gender' + selectedGender.charAt(0).toUpperCase() + selectedGender.slice(1);
          btn.classList.toggle('active', isActive);
          btn.setAttribute('aria-checked', isActive);
        });
      }

      function calculateBMI() {
        let weight = parseFloat(document.getElementById('weight').value);
        
        if (!weight || weight <= 0) {
          alert('Please enter a valid weight');
          return;
        }
        
        let height;
        if (unitSystem === 'metric') {
          height = parseFloat(document.getElementById('heightCm').value);
          if (!height || height <= 0) {
            alert('Please enter a valid height');
            return;
          }
          height = height / 100;
        } else {
          let feet = parseFloat(document.getElementById('heightFt').value);
          let inches = parseFloat(document.getElementById('heightIn').value) || 0;
          if (!feet || feet <= 0) {
            alert('Please enter a valid height');
            return;
          }
          height = ((feet * 12) + inches) * 0.0254;
          weight = weight * 0.453592;
        }
        
        let bmi = weight / (height * height);
        let category = getBMICategory(bmi);
        
        let idealWeightMin = 18.5 * (height * height);
        let idealWeightMax = 24.9 * (height * height);
        
        if (unitSystem === 'imperial') {
          idealWeightMin = idealWeightMin / 0.453592;
          idealWeightMax = idealWeightMax / 0.453592;
        }
        
        let weightUnit = unitSystem === 'metric' ? 'kg' : 'lbs';
        
        document.getElementById('resultsSection').classList.remove('hidden');
        document.getElementById('bmiValue').textContent = bmi.toFixed(1);
        document.getElementById('bmiCategory').textContent = category.name;
        document.getElementById('idealWeight').textContent = 
          `${idealWeightMin.toFixed(1)} - ${idealWeightMax.toFixed(1)} ${weightUnit}`;
        
        document.getElementById('bmiStatusBadge').innerHTML = `
          <div class="bmi-status ${category.class}">
            ${category.emoji} ${category.description}
          </div>
        `;
        
        drawBMIChart(bmi);
        showHealthRecommendations(bmi, category.name);
        
        if (window.innerWidth < 600) {
          setTimeout(() => {
            document.getElementById('resultsSection').scrollIntoView({ behavior: 'smooth', block: 'start' });
          }, 100);
        }
      }

      function getBMICategory(bmi) {
        if (bmi < 18.5) {
          return { name: 'Underweight', class: 'bmi-underweight', description: 'Your BMI indicates you are underweight', emoji: '‚ö†Ô∏è' };
        } else if (bmi >= 18.5 && bmi < 25) {
          return { name: 'Normal Weight', class: 'bmi-normal', description: 'Your BMI is in the healthy range', emoji: '‚úÖ' };
        } else if (bmi >= 25 && bmi < 30) {
          return { name: 'Overweight', class: 'bmi-overweight', description: 'Your BMI indicates you are overweight', emoji: '‚ö†Ô∏è' };
        } else {
          return { name: 'Obese', class: 'bmi-obese', description: 'Your BMI indicates obesity', emoji: 'üö®' };
        }
      }

      function drawBMIChart(bmi) {
        if (bmiChart) bmiChart.destroy();
        
        const ctx = document.getElementById('bmiChart');
        if (ctx) {
          bmiChart = new Chart(ctx.getContext('2d'), {
            type: 'bar',
            data: {
              labels: ['Underweight', 'Normal', 'Overweight', 'Obese'],
              datasets: [{
                label: 'BMI Ranges',
                data: [18.5, 24.9, 29.9, 40],
                backgroundColor: [
                  'rgba(109, 213, 237, 0.7)',
                  'rgba(56, 239, 125, 0.7)',
                  'rgba(255, 210, 0, 0.7)',
                  'rgba(255, 106, 0, 0.7)'
                ],
                borderColor: [
                  'rgba(109, 213, 237, 1)',
                  'rgba(56, 239, 125, 1)',
                  'rgba(255, 210, 0, 1)',
                  'rgba(255, 106, 0, 1)'
                ],
                borderWidth: 2
              }, {
                label: 'Your BMI',
                data: [
                  bmi < 18.5 ? bmi : null,
                  bmi >= 18.5 && bmi < 25 ? bmi : null,
                  bmi >= 25 && bmi < 30 ? bmi : null,
                  bmi >= 30 ? bmi : null
                ],
                backgroundColor: 'rgba(231, 76, 60, 0.8)',
                borderColor: 'rgba(231, 76, 60, 1)',
                borderWidth: 2
              }]
            },
            options: {
              responsive: true,
              maintainAspectRatio: true,
              scales: {
                y: { beginAtZero: true, max: 45, ticks: { font: { size: 10 } } },
                x: { ticks: { font: { size: 10 } } }
              },
              plugins: {
                legend: { position: 'bottom', labels: { padding: 8, font: { size: 11 } } }
              }
            }
          });
        }
      }

      function showHealthRecommendations(bmi, category) {
        let recommendations = document.getElementById('healthRecommendations');
        let content = '';
        
        if (bmi < 18.5) {
          content = `<div style="background: var(--primary-bg); padding: 14px; border-radius: 12px; box-shadow: inset 2px 2px 6px var(--shadow-dark), inset -2px -2px 6px var(--shadow-light);">
            <h3 style="color: var(--text-primary); margin-bottom: 10px; font-size: 15px;">Health Recommendations</h3>
            <ul style="color: var(--text-secondary); line-height: 1.7; list-style: none; padding-left: 0; font-size: 14px;">
              <li style="margin-bottom: 8px;">‚Ä¢ Consult healthcare provider or nutritionist</li>
              <li style="margin-bottom: 8px;">‚Ä¢ Increase calorie intake with nutrient-dense foods</li>
              <li style="margin-bottom: 8px;">‚Ä¢ Focus on strength training to build muscle</li>
              <li style="margin-bottom: 8px;">‚Ä¢ Eat frequent, smaller meals daily</li>
              <li style="margin-bottom: 8px;">‚Ä¢ Consider supplements if advised</li>
            </ul>
          </div>`;
        } else if (bmi >= 18.5 && bmi < 25) {
          content = `<div style="background: var(--primary-bg); padding: 14px; border-radius: 12px; box-shadow: inset 2px 2px 6px var(--shadow-dark), inset -2px -2px 6px var(--shadow-light);">
            <h3 style="color: var(--text-primary); margin-bottom: 10px; font-size: 15px;">Health Recommendations</h3>
            <ul style="color: var(--text-secondary); line-height: 1.7; list-style: none; padding-left: 0; font-size: 14px;">
              <li style="margin-bottom: 8px;">‚úÖ Maintain healthy weight through balanced diet</li>
              <li style="margin-bottom: 8px;">‚úÖ Continue regular physical activity (150 min/week)</li>
              <li style="margin-bottom: 8px;">‚úÖ Stay hydrated and get adequate sleep</li>
              <li style="margin-bottom: 8px;">‚úÖ Monitor your weight regularly</li>
              <li style="margin-bottom: 8px;">‚úÖ Keep up the great work!</li>
            </ul>
          </div>`;
        } else if (bmi >= 25 && bmi < 30) {
          content = `<div style="background: var(--primary-bg); padding: 14px; border-radius: 12px; box-shadow: inset 2px 2px 6px var(--shadow-dark), inset -2px -2px 6px var(--shadow-light);">
            <h3 style="color: var(--text-primary); margin-bottom: 10px; font-size: 15px;">Health Recommendations</h3>
            <ul style="color: var(--text-secondary); line-height: 1.7; list-style: none; padding-left: 0; font-size: 14px;">
              <li style="margin-bottom: 8px;">‚Ä¢ Aim for gradual weight loss (0.5-1 kg/week)</li>
              <li style="margin-bottom: 8px;">‚Ä¢ Increase physical activity to 300 min/week</li>
              <li style="margin-bottom: 8px;">‚Ä¢ Reduce portion sizes and calorie intake</li>
              <li style="margin-bottom: 8px;">‚Ä¢ Focus on whole foods, limit processed items</li>
              <li style="margin-bottom: 8px;">‚Ä¢ Consider consulting a dietitian</li>
            </ul>
          </div>`;
        } else {
          content = `<div style="background: var(--primary-bg); padding: 14px; border-radius: 12px; box-shadow: inset 2px 2px 6px var(--shadow-dark), inset -2px -2px 6px var(--shadow-light);">
            <h3 style="color: var(--text-primary); margin-bottom: 10px; font-size: 15px;">Health Recommendations</h3>
            <ul style="color: var(--text-secondary); line-height: 1.7; list-style: none; padding-left: 0; font-size: 14px;">
              <li style="margin-bottom: 8px;">‚Ä¢ Consult healthcare provider for evaluation</li>
              <li style="margin-bottom: 8px;">‚Ä¢ Create structured weight loss plan</li>
              <li style="margin-bottom: 8px;">‚Ä¢ Combine diet modification with exercise</li>
              <li style="margin-bottom: 8px;">‚Ä¢ Consider behavioral therapy or support groups</li>
              <li style="margin-bottom: 8px;">‚Ä¢ Monitor for obesity-related conditions</li>
              <li style="margin-bottom: 8px;">‚Ä¢ Set realistic goals and track progress</li>
            </ul>
          </div>`;
        }
        
        recommendations.innerHTML = content;
      }

      function resetForm() {
        document.getElementById('weight').value = 70;
        document.getElementById('heightCm').value = 170;
        document.getElementById('heightFt').value = 5;
        document.getElementById('heightIn').value = 7;
        document.getElementById('age').value = '';
        setUnitSystem('metric');
        gender = '';
        ['genderMale', 'genderFemale'].forEach(id => {
          document.getElementById(id).classList.remove('active');
          document.getElementById(id).setAttribute('aria-checked', 'false');
        });
        document.getElementById('resultsSection').classList.add('hidden');
        document.getElementById('bmiChartSection').classList.add('hidden');
        
        if (bmiChart) {
          bmiChart.destroy();
          bmiChart = null;
        }
        
        if (window.innerWidth < 600) {
          window.scrollTo({ top: 0, behavior: 'smooth' });
        }
      }

      function toggleBMIChart() {
        document.getElementById('bmiChartSection').classList.toggle('hidden');
      }

      function downloadPDF() {
        if (document.getElementById('resultsSection').classList.contains('hidden')) {
          alert('Please calculate your BMI first');
          return;
        }

        const { jsPDF } = window.jspdf;
        let doc = new jsPDF();

        doc.setFontSize(18);
        doc.setTextColor(44, 62, 80);
        doc.text('BMI Calculator - Health Report', 105, 15, { align: 'center' });

        doc.setFontSize(12);
        doc.setTextColor(85, 85, 85);

        let yPos = 30;
        doc.text('Your BMI: ' + document.getElementById('bmiValue').textContent, 20, yPos);
        yPos += 10;
        doc.text('Category: ' + document.getElementById('bmiCategory').textContent, 20, yPos);
        yPos += 10;
        doc.text('Ideal Weight Range: ' + document.getElementById('idealWeight').textContent, 20, yPos);

        yPos += 20;
        doc.setFontSize(14);
        doc.setTextColor(44, 62, 80);
        doc.text('Your Measurements', 20, yPos);

        yPos += 10;
        doc.setFontSize(11);
        doc.setTextColor(85, 85, 85);
        
        let weight = document.getElementById('weight').value;
        let weightUnit = unitSystem === 'metric' ? 'kg' : 'lbs';
        doc.text('Weight: ' + weight + ' ' + weightUnit, 20, yPos);
        yPos += 8;
        
        if (unitSystem === 'metric') {
          doc.text('Height: ' + document.getElementById('heightCm').value + ' cm', 20, yPos);
        } else {
          doc.text('Height: ' + document.getElementById('heightFt').value + "' " + 
                   document.getElementById('heightIn').value + '"', 20, yPos);
        }
        
        let age = document.getElementById('age').value;
        if (age) {
          yPos += 8;
          doc.text('Age: ' + age + ' years', 20, yPos);
        }

        yPos += 20;
        doc.setFontSize(14);
        doc.setTextColor(44, 62, 80);
        doc.text('BMI Reference Chart', 20, yPos);
        
        yPos += 10;
        doc.setFontSize(10);
        doc.setTextColor(85, 85, 85);
        doc.text('Underweight: BMI < 18.5', 20, yPos);
        yPos += 7;
        doc.text('Normal weight: BMI 18.5 - 24.9', 20, yPos);
        yPos += 7;
        doc.text('Overweight: BMI 25.0 - 29.9', 20, yPos);
        yPos += 7;
        doc.text('Obese: BMI >= 30.0', 20, yPos);

        doc.setFontSize(9);
        doc.setTextColor(150, 150, 150);
        doc.text('Generated by BMI Calculator', 105, 280, { align: 'center' });
        doc.text(new Date().toLocaleString(), 105, 285, { align: 'center' });

        doc.save('BMI-Health-Report.pdf');
      }

      function shareCalculator() {
        let shareText = 'Calculate your BMI (Body Mass Index) with this free online calculator!';
        
        if (!document.getElementById('resultsSection').classList.contains('hidden')) {
          let bmi = document.getElementById('bmiValue').textContent;
          let category = document.getElementById('bmiCategory').textContent;
          shareText = `My BMI is ${bmi} (${category}). Calculate yours with this free BMI Calculator!`;
        }
        
        if (navigator.share) {
          navigator.share({
            title: 'BMI Calculator',
            text: shareText,
            url: window.location.href
          }).catch((error) => console.log('Error sharing:', error));
        } else {
          const url = window.location.href;
          if (navigator.clipboard) {
            navigator.clipboard.writeText(url).then(() => {
              alert('Link copied to clipboard!');
            });
          } else {
            alert('Sharing not supported. URL: ' + url);
          }
        }
      }

      document.addEventListener('DOMContentLoaded', function() {
        setUnitSystem('metric');

        const numberInputs = document.querySelectorAll('input[type="number"]');
        numberInputs.forEach(input => {
          input.addEventListener('input', function() {
            if (this.value < 0) this.value = 0;
            if (this.hasAttribute('max') && parseFloat(this.value) > parseFloat(this.getAttribute('max'))) {
              this.value = this.getAttribute('max');
            }
          });
        });

        document.addEventListener('keypress', function(e) {
          if (e.key === 'Enter' && e.target.tagName !== 'BUTTON') {
            e.preventDefault();
            calculateBMI();
          }
        });

        if ('ontouchstart' in window) {
          document.querySelectorAll('button, .toggle-btn').forEach(btn => {
            btn.addEventListener('touchstart', function() {
              this.style.transform = 'scale(0.96)';
            }, { passive: true });
            btn.addEventListener('touchend', function() {
              this.style.transform = 'scale(1)';
            }, { passive: true });
          });
        }
      });

      let resizeTimeout;
      window.addEventListener('resize', () => {
        clearTimeout(resizeTimeout);
        resizeTimeout = setTimeout(() => {
          if (!document.getElementById('resultsSection').classList.contains('hidden')) {
            if (bmiChart) bmiChart.resize();
          }
        }, 250);
      });

      function setVH() {
        let vh = window.innerHeight * 0.01;
        document.documentElement.style.setProperty('--vh', `${vh}px`);
      }

      setVH();
      window.addEventListener('resize', setVH);
      window.addEventListener('orientationchange', setVH);
    </script>
  </body>
</html>
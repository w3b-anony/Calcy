<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      Daily Calorie Calculator üìä - Calculate Your TDEE, BMR & Calorie Needs for Weight Loss
    </title>
    <meta
      name="description"
      content="Free Daily Calorie Needs Calculator. Calculate your BMR, TDEE, and daily calorie requirements for weight loss, maintenance, or muscle gain. Get personalized nutrition recommendations."
    />
    <meta
      name="keywords"
      content="daily calorie calculator, TDEE calculator, BMR calculator, calorie needs, weight loss calculator, maintenance calories, calorie deficit, nutrition calculator"
    />
    <link rel="canonical" href="https://yourdomain.com/daily-calorie-calculator" />
    <meta name="robots" content="index, follow" />
    <meta property="og:title" content="Daily Calorie Needs Calculator - Calculate TDEE & BMR" />
    <meta property="og:description" content="Calculate your daily calorie needs based on BMR, activity level, and fitness goals. Free personalized nutrition recommendations." />
    <meta property="og:type" content="website" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "Daily Calorie Needs Calculator",
      "description": "Calculate your daily calorie requirements based on BMR, TDEE, and fitness goals",
      "url": "https://yourdomain.com/daily-calorie-calculator",
      "applicationCategory": "HealthApplication",
      "operatingSystem": "Any",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      }
    }
    </script>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      :root {
        --primary-bg: #e0e5ec;
        --primary-color: #e67e22;
        --text-dark: #2c3e50;
        --text-light: #555;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: #e0e5ec;
        color: #333;
        padding: 10px;
        min-height: 100vh;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
      }

      /* Header */
      .header {
        background: var(--primary-bg);
        padding: 10px 12px;
        border: 1px solid #9aa3af;
        border-radius: 10px;
        box-shadow: 0px 0px 16px #a3b1c6, -9px -9px 16px #ffffff;
        display: flex;
        align-items: center;
        gap: 10px;
        margin-bottom: 15px;
        flex-wrap: nowrap;
      }

      .back-btn {
        background: var(--primary-bg);
        border: 1px solid #9aa3af;
        padding: 8px 12px;
        border-radius: 10px;
        box-shadow: 4px 4px 8px #a3b1c6, -4px -4px 8px #ffffff;
        cursor: pointer;
        color: #555;
        font-size: 12px;
        transition: all 0.3s;
        white-space: nowrap;
        flex-shrink: 0;
      }

      .back-btn:hover {
        box-shadow: inset 3px 3px 7px #a3b1c6, inset -3px -3px 7px #ffffff;
      }

      .header-center {
        flex: 1;
        text-align: center;
        min-width: 0;
      }

      .header-center h1 {
        font-size: 16px;
        margin-bottom: 0;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }

      .header-actions {
        display: flex;
        gap: 6px;
        flex-shrink: 0;
      }

      .icon-btn {
        background: var(--primary-bg);
        border: 1px solid #9aa3af;
        width: 32px;
        height: 32px;
        border-radius: 8px;
        box-shadow: 4px 4px 8px #a3b1c6, -4px -4px 8px #ffffff;
        cursor: pointer;
        font-size: 14px;
        transition: all 0.3s;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .icon-btn:active {
        box-shadow: inset 4px 4px 8px #a3b1c6, inset -4px -4px 8px #ffffff;
      }

      /* Main Content */
      .main-content {
        display: grid;
        grid-template-columns: 1fr;
        gap: 15px;
      }

      /* Card Style */
      .card {
        background: var(--primary-bg);
        padding: 15px;
        border-radius: 15px;
        border: 1px solid #89929d;
        box-shadow: 0px 0px 16px #a3b1c6, -9px -9px 16px #ffffff;
      }

      .card h2 {
        font-size: 18px;
        margin-bottom: 12px;
        color: #2c502e;
      }

      /* Input Groups */
      .input-group {
        margin-bottom: 12px;
      }

      .input-group label {
        display: block;
        margin-bottom: 8px;
        font-weight: 600;
        color: #555;
        font-size: 13px;
      }

      input[type="number"],
      select {
        width: 100%;
        padding: 7px 15px;
        border: none;
        border-radius: 10px;
        border: 1px solid #9aa3af;
        background: var(--primary-bg);
        box-shadow: inset 0px 0px 8px #a3b1c6, inset -4px -4px 8px #ffffff;
        font-size: 14px;
        color: #333;
        transition: all 0.3s;
      }

      input[type="number"]:focus,
      select:focus {
        outline: none;
        box-shadow: inset 6px 6px 12px #a3b1c6, inset -6px -6px 12px #ffffff;
      }

      .unit-toggle {
        display: inline-block;
        margin-left: 10px;
        font-size: 11px;
        color: #777;
        cursor: pointer;
        text-decoration: underline;
      }

      /* Toggle Buttons */
      .toggle-group {
        display: flex;
        gap: 8px;
        flex-wrap: wrap;
      }

      .toggle-btn {
        flex: 1;
        min-width: 80px;
        padding: 7px 15px;
        border: none;
        border-radius: 10px;
        border: 1px solid #9aa3afdf;
        background: var(--primary-bg);
        box-shadow: 0px 0px 10px #a3b1c6, -5px -5px 10px #ffffff;
        cursor: pointer;
        font-size: 13px;
        color: #555;
        transition: all 0.3s;
      }

      .toggle-btn.active {
        box-shadow: inset 4px 4px 8px #a3b1c6, inset -4px -4px 8px #ffffff;
        color: #e67e22;
        font-weight: 600;
      }

      /* Buttons */
      .btn-group {
        display: flex;
        gap: 10px;
        margin-top: 20px;
        flex-wrap: wrap;
      }

      .calculate-btn {
        flex: 2;
        min-width: 150px;
        padding: 14px 30px;
        border: none;
        border-radius: 12px;
        background: linear-gradient(145deg, #e67e22, #d35400);
        color: white;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        box-shadow: 6px 6px 12px #a3b1c6, -6px -6px 12px #ffffff;
        transition: all 0.3s;
      }

      .calculate-btn:hover {
        transform: translateY(-2px);
        box-shadow: 8px 8px 16px #a3b1c6, -8px -8px 16px #ffffff;
      }

      .calculate-btn:active {
        transform: translateY(0);
        box-shadow: inset 2px 2px 8px #d35400, inset -4px -4px 8px #f39c12;
      }

      .reset-btn {
        flex: 1;
        min-width: 100px;
        padding: 14px 20px;
        border: none;
        border-radius: 12px;
        background: var(--primary-bg);
        color: #555;
        font-size: 15px;
        font-weight: 600;
        cursor: pointer;
        box-shadow: 5px 5px 10px #a3b1c6, -5px -5px 10px #ffffff;
        transition: all 0.3s;
      }

      .reset-btn:hover {
        box-shadow: 3px 3px 6px #a3b1c6, -3px -3px 6px #ffffff;
      }

      .reset-btn:active {
        box-shadow: inset 3px 3px 6px #a3b1c6, inset -3px -3px 6px #ffffff;
      }

      /* Results */
      .results-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
        gap: 12px;
        margin-bottom: 20px;
      }

      .result-item {
        background: var(--primary-bg);
        padding: 10px;
        border-radius: 12px;
        box-shadow: inset 4px 4px 8px #a3b1c6, inset -4px -4px 8px #ffffff;
        text-align: center;
      }

      .result-label {
        font-size: 9px;
        color: #777;
        margin-bottom: 6px;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      .result-value {
        font-size: 18px;
        font-weight: 700;
        color: #2c3e50;
        word-break: break-word;
      }

      /* Charts */
      .charts-container {
        display: grid;
        grid-template-columns: 1fr;
        gap: 15px;
        margin-bottom: 20px;
      }

      .chart-wrapper {
        background: var(--primary-bg);
        padding: 15px;
        border-radius: 12px;
        box-shadow: 9px 9px 16px #a3b1c6, -9px -9px 16px #ffffff;
      }

      .chart-wrapper h3 {
        margin-bottom: 15px;
        color: #2c3e50;
        font-size: 16px;
      }

      .chart-wrapper canvas {
        max-height: 150px;
      }

      /* Action Buttons */
      .action-buttons {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
        margin-bottom: 20px;
      }

      .action-btn {
        padding: 10px 20px;
        border: none;
        border-radius: 10px;
        background: var(--primary-bg);
        color: #555;
        font-size: 13px;
        font-weight: 600;
        cursor: pointer;
        box-shadow: 5px 5px 10px #a3b1c6, -5px -5px 10px #ffffff;
        transition: all 0.3s;
        display: flex;
        align-items: center;
        gap: 8px;
        flex: 1;
        min-width: 140px;
        justify-content: center;
      }

      .action-btn:hover {
        box-shadow: 3px 3px 6px #a3b1c6, -3px -3px 6px #ffffff;
      }

      .action-btn:active {
        box-shadow: inset 3px 3px 6px #a3b1c6, inset -3px -3px 6px #ffffff;
      }

      /* Goal Cards */
      .goal-cards {
        display: grid;
        grid-template-columns: 1fr;
        gap: 12px;
        margin-top: 20px;
      }

      .goal-card {
        background: var(--primary-bg);
        padding: 15px;
        border-radius: 12px;
        box-shadow: 0px 0px 16px #a3b1c6, -9px -9px 16px #ffffff;
        border: 2px solid transparent;
        transition: all 0.3s;
      }

      .goal-card.weight-loss {
        border-color: #e74c3c;
      }

      .goal-card.maintenance {
        border-color: #27ae60;
      }

      .goal-card.muscle-gain {
        border-color: #3498db;
      }

      .goal-card h4 {
        color: var(--text-dark);
        margin-bottom: 10px;
        font-size: 16px;
      }

      .goal-value {
        font-size: 24px;
        font-weight: 700;
        margin: 10px 0;
      }

      .goal-desc {
        font-size: 12px;
        color: #777;
        line-height: 1.6;
      }

      /* Info Cards */
      .info-cards {
        display: grid;
        grid-template-columns: 1fr;
        gap: 15px;
        margin-top: 20px;
      }

      .info-card {
        background: var(--primary-bg);
        padding: 15px;
        border-radius: 12px;
        border: 1px solid #9aa3af;
        box-shadow: 0px 0px 16px #a3b1c6, -9px -9px 16px #ffffff;
      }

      .info-card h3 {
        color: #2c3e50;
        margin-bottom: 12px;
        font-size: 16px;
      }

      .info-card p,
      .info-card ul {
        color: #555;
        line-height: 1.7;
        font-size: 15px;
      }

      .info-card ul {
        list-style: none;
        padding-left: 0;
      }

      .info-card li {
        padding-left: 20px;
        position: relative;
        margin-bottom: 8px;
      }

      .info-card li:before {
        content: "‚Ä¢";
        position: absolute;
        left: 8px;
        color: #e67e22;
        font-weight: bold;
      }

      /* Hidden */
      .hidden {
        display: none;
      }

      .details-section {
        margin-top: 20px;
        padding: 15px;
        background: var(--primary-bg);
        border-radius: 12px;
        box-shadow: inset 4px 4px 8px #a3b1c6, inset -4px -4px 8px #ffffff;
      }

      .details-section h3 {
        color: #2c3e50;
        margin-bottom: 12px;
        font-size: 16px;
      }

      .formula {
        background: #f5f7fa;
        padding: 12px;
        border-radius: 8px;
        margin: 12px 0;
        font-family: "Courier New", monospace;
        overflow-x: auto;
        font-size: 12px;
      }

      .macro-breakdown {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 10px;
        margin-top: 15px;
      }

      .macro-item {
        background: var(--primary-bg);
        padding: 12px;
        border-radius: 10px;
        box-shadow: inset 3px 3px 6px #a3b1c6, inset -3px -3px 6px #ffffff;
        text-align: center;
      }

      .macro-label {
        font-size: 11px;
        color: #777;
        margin-bottom: 5px;
        text-transform: uppercase;
      }

      .macro-value {
        font-size: 16px;
        font-weight: 700;
        color: #2c3e50;
      }

      /* Responsive */
      @media (max-width: 480px) {
        body {
          padding: 8px;
        }

        .header {
          padding: 8px 10px;
          gap: 6px;
        }

        .header-center h1 {
          font-size: 17px;
        }

        .back-btn {
          display: none;
        }

        .icon-btn {
          width: 28px;
          height: 28px;
          font-size: 12px;
        }

        .card {
          padding: 12px;
        }

        .results-grid {
          grid-template-columns: 1fr 1fr;
        }

        .macro-breakdown {
          grid-template-columns: 1fr;
        }

        .action-buttons {
          flex-direction: column;
        }

        .action-btn {
          width: 100%;
          min-width: auto;
        }
      }

      @media (min-width: 768px) {
        body {
          padding: 20px;
        }

        .header {
          padding: 12px 15px;
        }

        .header-center h1 {
          font-size: 20px;
        }

        .icon-btn {
          width: 36px;
          height: 36px;
          font-size: 16px;
        }

        .main-content {
          grid-template-columns: 1fr 1fr;
          gap: 25px;
        }

        .card {
          padding: 20px;
        }

        .card h2 {
          font-size: 22px;
        }

        .card.full-width {
          grid-column: 1 / -1;
        }

        .results-grid {
          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
          gap: 20px;
        }

        .result-value {
          font-size: 24px;
        }

        .charts-container {
          grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
          gap: 25px;
        }

        .chart-wrapper canvas {
          max-height: 300px;
        }

        .goal-cards {
          grid-template-columns: repeat(3, 1fr);
          gap: 15px;
        }

        .info-cards {
          grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
          gap: 25px;
        }
      }

      @media (min-width: 1024px) {
        .header-center h1 {
          font-size: 24px;
        }

        .result-value {
          font-size: 26px;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <!-- Header -->
      <header class="header">
        <button class="back-btn" onclick="window.history.back()">
          <span>‚Üê</span> Go Back
        </button>
        <div class="header-center">
          <h1>Daily Calorie Needs Calculator</h1>
        </div>
        <div class="header-actions">
          <button class="icon-btn" onclick="shareCalculator()" title="Share">
            üì§
          </button>
          <button class="icon-btn" onclick="downloadPDF()" title="Download PDF">
            üìÑ
          </button>
          <button
            class="icon-btn"
            onclick="toggleDarkMode()"
            title="Toggle Theme"
          >
            üåì
          </button>
        </div>
      </header>

      <main>
        <div class="main-content">
          <!-- Input Section -->
          <section class="card">
            <h2>Personal Information</h2>

            <div class="input-group">
              <label for="weight">
                Weight
                <span
                  class="unit-toggle"
                  id="weightUnit"
                  onclick="toggleWeightUnit()"
                  >kg</span
                >
              </label>
              <input
                type="number"
                id="weight"
                value="70"
                min="20"
                max="300"
                step="0.1"
                aria-label="Weight in kilograms"
              />
            </div>

            <div class="input-group">
              <label for="height">
                Height
                <span
                  class="unit-toggle"
                  id="heightUnit"
                  onclick="toggleHeightUnit()"
                  >cm</span
                >
              </label>
              <input
                type="number"
                id="height"
                value="170"
                min="50"
                max="250"
                step="0.1"
                aria-label="Height in centimeters"
              />
            </div>

            <div class="input-group">
              <label for="age">Age (years)</label>
              <input
                type="number"
                id="age"
                value="30"
                min="10"
                max="100"
                aria-label="Age in years"
              />
            </div>

            <div class="input-group">
              <label>Gender</label>
              <div class="toggle-group">
                <button
                  class="toggle-btn active"
                  id="genderMale"
                  onclick="setGender('male')"
                  aria-pressed="true"
                >
                  Male
                </button>
                <button
                  class="toggle-btn"
                  id="genderFemale"
                  onclick="setGender('female')"
                  aria-pressed="false"
                >
                  Female
                </button>
              </div>
            </div>

            <div class="input-group">
              <label for="activityLevel">Activity Level</label>
              <select id="activityLevel" aria-label="Select activity level">
                <option value="1.2">Sedentary (little/no exercise)</option>
                <option value="1.375">Light (1-3 days/week)</option>
                <option value="1.55" selected>Moderate (3-5 days/week)</option>
                <option value="1.725">Very Active (6-7 days/week)</option>
                <option value="1.9">Extra Active (physical job)</option>
              </select>
            </div>

            <div class="btn-group">
              <button class="calculate-btn" onclick="calculateCalories()">
                Calculate My Needs
              </button>
              <button class="reset-btn" onclick="resetForm()">Reset</button>
            </div>
          </section>

          <!-- Quick Info -->
          <section class="card">
            <h2>Understanding Calorie Needs üìä</h2>
            <div style="color: #555; line-height: 1.8">
              <p style="margin-bottom: 15px">
                <strong>BMR (Basal Metabolic Rate):</strong> Calories your body burns at rest to maintain vital functions.
              </p>
              <p style="margin-bottom: 15px">
                <strong>TDEE (Total Daily Energy Expenditure):</strong> Total calories you burn daily including all activities.
              </p>
              <p style="margin-bottom: 15px">
                <strong>Calorie Deficit:</strong> Eating below TDEE to lose weight (500 cal = ~0.5 kg/week).
              </p>
              <p style="margin-bottom: 15px">
                <strong>Calorie Surplus:</strong> Eating above TDEE to gain muscle mass.
              </p>
            </div>
          </section>
        </div>

        <!-- Results Section -->
        <section class="card full-width hidden" id="resultsSection">
          <h2>Your Personalized Calorie Needs</h2>

          <div class="results-grid">
            <div class="result-item">
              <div class="result-label">BMR</div>
              <div class="result-value" id="bmrValue">-</div>
            </div>
            <div class="result-item">
              <div class="result-label">TDEE</div>
              <div class="result-value" id="tdeeValue">-</div>
            </div>
            <div class="result-item">
              <div class="result-label">Weekly Calories</div>
              <div class="result-value" id="weeklyCalories">-</div>
            </div>
            <div class="result-item">
              <div class="result-label">Monthly Calories</div>
              <div class="result-value" id="monthlyCalories">-</div>
            </div>
          </div>

          <!-- Goal Based Recommendations -->
          <h3 style="color: #2c3e50; margin: 20px 0 15px 0; font-size: 18px">
            Calorie Goals by Objective
          </h3>
          <div class="goal-cards">
            <article class="goal-card weight-loss">
              <h4>üî• Weight Loss</h4>
              <div class="goal-value" id="weightLossCalories">-</div>
              <p class="goal-desc">
                500 cal deficit for healthy weight loss of ~0.5 kg per week
              </p>
            </article>

            <article class="goal-card maintenance">
              <h4>‚öñÔ∏è Maintenance</h4>
              <div class="goal-value" id="maintenanceCalories">-</div>
              <p class="goal-desc">
                Maintain current weight with balanced nutrition
              </p>
            </article>

            <article class="goal-card muscle-gain">
              <h4>üí™ Muscle Gain</h4>
              <div class="goal-value" id="muscleGainCalories">-</div>
              <p class="goal-desc">
                300 cal surplus for lean muscle growth with training
              </p>
            </article>
          </div>

          <!-- Charts -->
          <div class="charts-container">
            <div class="chart-wrapper">
              <h3>Calorie Distribution</h3>
              <canvas id="pieChart"></canvas>
            </div>
            <div class="chart-wrapper">
              <h3>Weekly Calorie Projection</h3>
              <canvas id="barChart"></canvas>
            </div>
          </div>

          <!-- Macro Breakdown -->
          <div class="details-section">
            <h3>Recommended Macronutrient Distribution</h3>
            <p style="color: #555; margin-bottom: 15px; font-size: 14px">
              Based on your TDEE, here's a balanced macronutrient breakdown:
            </p>
            <div class="macro-breakdown">
              <div class="macro-item">
                <div class="macro-label">Protein</div>
                <div class="macro-value" id="proteinValue">-</div>
              </div>
              <div class="macro-item">
                <div class="macro-label">Carbs</div>
                <div class="macro-value" id="carbsValue">-</div>
              </div>
              <div class="macro-item">
                <div class="macro-label">Fats</div>
                <div class="macro-value" id="fatsValue">-</div>
              </div>
            </div>
          </div>

          <!-- Action Buttons -->
          <div class="action-buttons">
            <button class="action-btn" onclick="downloadPDF()">
              üìÑ Download Report
            </button>
            <button class="action-btn" onclick="toggleDetails()">
              üìä View Calculation Details
            </button>
            <button class="action-btn" onclick="shareCalculator()">
              üì§ Share Calculator
            </button>
          </div>

          <!-- Calculation Details -->
          <div class="details-section hidden" id="calculationDetails">
            <h3>How We Calculate Your Calorie Needs</h3>
            <div class="formula">
              <strong>BMR Calculation (Mifflin-St Jeor Equation):</strong><br />
              Men: BMR = (10 √ó weight kg) + (6.25 √ó height cm) - (5 √ó age) + 5<br />
              Women: BMR = (10 √ó weight kg) + (6.25 √ó height cm) - (5 √ó age) - 161<br /><br />
              <strong>TDEE = BMR √ó Activity Level Factor</strong><br /><br />
              <strong>Weight Loss = TDEE - 500 calories</strong><br />
              <strong>Maintenance = TDEE</strong><br />
              <strong>Muscle Gain = TDEE + 300 calories</strong>
            </div>
            <div
              id="calculationExample"
              style="margin-top: 15px; color: #555; line-height: 1.8"
            ></div>
          </div>
        </section>

        <!-- SEO Content -->
        <div class="info-cards">
          <article class="info-card">
            <h3>How to Use This Daily Calorie Calculator</h3>
            <ul>
              <li>Enter your current weight in kilograms or pounds</li>
              <li>Input your height in centimeters or inches</li>
              <li>Specify your age and select your gender</li>
              <li>Choose your daily activity level accurately</li>
              <li>Click "Calculate My Needs" to get personalized results</li>
              <li>Review your BMR, TDEE, and goal-specific calorie recommendations</li>
              <li>Download your results or share with your nutritionist</li>
            </ul>
          </article>

          <article class="info-card">
            <h3>Understanding Your Daily Calorie Results</h3>
            <p>
              <strong>BMR (Basal Metabolic Rate):</strong> This is the minimum number of calories your body needs to maintain basic physiological functions like breathing, circulation, and cell production while at complete rest. Your BMR accounts for 60-75% of your total daily energy expenditure.
            </p>
            <p style="margin-top: 10px">
              <strong>TDEE (Total Daily Energy Expenditure):</strong> This represents your total calorie burn throughout the day, including your BMR plus all physical activities. TDEE is the key number for weight management - eat at this level to maintain your current weight.
            </p>
            <p style="margin-top: 10px">
              <strong>Calorie Goals:</strong> We provide three personalized targets based on common fitness objectives: weight loss (500 cal deficit), maintenance (at TDEE), and muscle gain (300 cal surplus).
            </p>
          </article>

          <article class="info-card">
            <h3>Tips for Achieving Your Calorie Goals</h3>
            <ul>
              <li>Track your food intake using a nutrition app for accuracy</li>
              <li>Aim for 0.5-1 kg weight loss per week for sustainable results</li>
              <li>Eat protein-rich foods to preserve muscle mass during weight loss</li>
              <li>Stay hydrated - drink at least 8 glasses of water daily</li>
              <li>Get 7-9 hours of quality sleep to support metabolism</li>
              <li>Combine calorie control with regular exercise for best results</li>
              <li>Adjust your calorie intake as your weight changes</li>
              <li>Consult a healthcare provider before major dietary changes</li>
            </ul>
          </article>

          <article class="info-card">
            <h3>Why Calculate Your Daily Calorie Needs?</h3>
            <p>
              Understanding your daily calorie requirements is essential for effective weight management and overall health. Whether your goal is to lose weight, maintain your current physique, or build muscle, knowing your TDEE helps you create a sustainable nutrition plan.
            </p>
            <p style="margin-top: 10px">
              This calculator uses the scientifically-validated Mifflin-St Jeor equation, which is considered one of the most accurate methods for estimating BMR. By factoring in your activity level, we provide a complete picture of your daily energy needs.
            </p>
            <p style="margin-top: 10px">
              Regular recalculation is important as your calorie needs change with weight loss or gain, age, and activity level changes. Use this tool every 4-6 weeks to ensure your nutrition plan stays aligned with your goals.
            </p>
          </article>
        </div>
      </main>
    </div>

    <script>
      let gender = "male";
      let weightUnit = "kg";
      let heightUnit = "cm";
      let pieChart, barChart;

      function setGender(g) {
        gender = g;
        document
          .getElementById("genderMale")
          .classList.toggle("active", g === "male");
        document
          .getElementById("genderFemale")
          .classList.toggle("active", g === "female");
        
        document.getElementById("genderMale").setAttribute("aria-pressed", g === "male");
        document.getElementById("genderFemale").setAttribute("aria-pressed", g === "female");
      }

      function toggleWeightUnit() {
        const input = document.getElementById("weight");
        const unitSpan = document.getElementById("weightUnit");

        if (weightUnit === "kg") {
          weightUnit = "lbs";
          input.value = (parseFloat(input.value) * 2.20462).toFixed(1);
          unitSpan.textContent = "lbs";
        } else {
          weightUnit = "kg";
          input.value = (parseFloat(input.value) / 2.20462).toFixed(1);
          unitSpan.textContent = "kg";
        }
      }

      function toggleHeightUnit() {
        const input = document.getElementById("height");
        const unitSpan = document.getElementById("heightUnit");

        if (heightUnit === "cm") {
          heightUnit = "in";
          input.value = (parseFloat(input.value) / 2.54).toFixed(1);
          unitSpan.textContent = "in";
        } else {
          heightUnit = "cm";
          input.value = (parseFloat(input.value) * 2.54).toFixed(1);
          unitSpan.textContent = "cm";
        }
      }

      function calculateBMR(weight, height, age, gender) {
        const weightKg = weightUnit === "kg" ? weight : weight / 2.20462;
        const heightCm = heightUnit === "cm" ? height : height * 2.54;

        if (gender === "male") {
          return 10 * weightKg + 6.25 * heightCm - 5 * age + 5;
        } else {
          return 10 * weightKg + 6.25 * heightCm - 5 * age - 161;
        }
      }

      function calculateCalories() {
        const weight = parseFloat(document.getElementById("weight").value);
        const height = parseFloat(document.getElementById("height").value);
        const age = parseInt(document.getElementById("age").value);
        const activityLevel = parseFloat(
          document.getElementById("activityLevel").value
        );

        if (
          !weight ||
          weight <= 0 ||
          !height ||
          height <= 0 ||
          !age ||
          age <= 0
        ) {
          alert("Please enter valid details");
          return;
        }

        const bmr = calculateBMR(weight, height, age, gender);
        const tdee = bmr * activityLevel;

        const weeklyCalories = tdee * 7;
        const monthlyCalories = tdee * 30;

        const weightLoss = tdee - 500;
        const maintenance = tdee;
        const muscleGain = tdee + 300;

        document.getElementById("resultsSection").classList.remove("hidden");
        document.getElementById("bmrValue").textContent =
          Math.round(bmr) + " cal";
        document.getElementById("tdeeValue").textContent =
          Math.round(tdee) + " cal";
        document.getElementById("weeklyCalories").textContent =
          Math.round(weeklyCalories).toLocaleString() + " cal";
        document.getElementById("monthlyCalories").textContent =
          Math.round(monthlyCalories).toLocaleString() + " cal";

        document.getElementById("weightLossCalories").textContent =
          Math.round(weightLoss) + " cal";
        document.getElementById("maintenanceCalories").textContent =
          Math.round(maintenance) + " cal";
        document.getElementById("muscleGainCalories").textContent =
          Math.round(muscleGain) + " cal";

        calculateMacros(tdee);
        drawCharts(bmr, tdee);
        showCalculationDetails(weight, height, age, gender, bmr, tdee, activityLevel);

        if (window.innerWidth < 768) {
          document
            .getElementById("resultsSection")
            .scrollIntoView({ behavior: "smooth" });
        }
      }

      function calculateMacros(tdee) {
        const protein = Math.round((tdee * 0.3) / 4);
        const carbs = Math.round((tdee * 0.4) / 4);
        const fats = Math.round((tdee * 0.3) / 9);

        document.getElementById("proteinValue").textContent = protein + "g";
        document.getElementById("carbsValue").textContent = carbs + "g";
        document.getElementById("fatsValue").textContent = fats + "g";
      }

      function drawCharts(bmr, tdee) {
        if (pieChart) pieChart.destroy();
        if (barChart) barChart.destroy();

        const pieCtx = document.getElementById("pieChart");
        if (pieCtx) {
          pieChart = new Chart(pieCtx.getContext("2d"), {
            type: "doughnut",
            data: {
              labels: ["BMR (Rest)", "Activity Calories", "Thermic Effect"],
              datasets: [
                {
                  data: [bmr, tdee - bmr - 100, 100],
                  backgroundColor: ["#3498db", "#e67e22", "#95a5a6"],
                  borderColor: "#e0e5ec",
                  borderWidth: 2,
                },
              ],
            },
            options: {
              responsive: true,
              maintainAspectRatio: true,
              plugins: {
                legend: {
                  position: "bottom",
                  labels: {
                    padding: 10,
                    font: { size: 12 },
                  },
                },
                tooltip: {
                  callbacks: {
                    label: function (context) {
                      return (
                        context.label +
                        ": " +
                        Math.round(context.parsed) +
                        " cal"
                      );
                    },
                  },
                },
              },
            },
          });
        }

        const barCtx = document.getElementById("barChart");
        if (barCtx) {
          const days = ["Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun"];
          const dailyCalories = Array(7).fill(Math.round(tdee));

          barChart = new Chart(barCtx.getContext("2d"), {
            type: "bar",
            data: {
              labels: days,
              datasets: [
                {
                  label: "Daily Calories",
                  data: dailyCalories,
                  backgroundColor: "#e67e22",
                  borderRadius: 5,
                },
              ],
            },
            options: {
              responsive: true,
              maintainAspectRatio: true,
              scales: {
                y: {
                  beginAtZero: true,
                  ticks: {
                    callback: function (value) {
                      return value + " cal";
                    },
                  },
                },
              },
              plugins: {
                legend: {
                  display: false,
                },
              },
            },
          });
        }
      }

      function showCalculationDetails(weight, height, age, gender, bmr, tdee, activityLevel) {
        const calculationExample = document.getElementById("calculationExample");
        const weightKg = weightUnit === "kg" ? weight : weight / 2.20462;
        const heightCm = heightUnit === "cm" ? height : height * 2.54;

        const activityLevelText = {
          "1.2": "Sedentary",
          "1.375": "Light",
          "1.55": "Moderate",
          "1.725": "Very Active",
          "1.9": "Extra Active"
        };

        if (calculationExample) {
          calculationExample.innerHTML = `
      <strong>Your Input:</strong><br>
      Weight: ${weightKg.toFixed(1)} kg<br>
      Height: ${heightCm.toFixed(1)} cm<br>
      Age: ${age} years<br>
      Gender: ${gender.charAt(0).toUpperCase() + gender.slice(1)}<br>
      Activity Level: ${activityLevelText[activityLevel.toString()]}<br><br>

      <strong>Step 1 - Calculate BMR:</strong><br>
      ${
        gender === "male"
          ? `BMR = (10 √ó ${weightKg.toFixed(1)}) + (6.25 √ó ${heightCm.toFixed(1)}) - (5 √ó ${age}) + 5`
          : `BMR = (10 √ó ${weightKg.toFixed(1)}) + (6.25 √ó ${heightCm.toFixed(1)}) - (5 √ó ${age}) - 161`
      }<br>
      BMR = <strong>${Math.round(bmr)} calories/day</strong><br><br>

      <strong>Step 2 - Calculate TDEE:</strong><br>
      TDEE = BMR √ó Activity Level<br>
      TDEE = ${Math.round(bmr)} √ó ${activityLevel}<br>
      TDEE = <strong>${Math.round(tdee)} calories/day</strong><br><br>

      <strong>Step 3 - Set Your Goals:</strong><br>
      Weight Loss: ${Math.round(tdee)} - 500 = <strong>${Math.round(tdee - 500)} cal/day</strong><br>
      Maintenance: <strong>${Math.round(tdee)} cal/day</strong><br>
      Muscle Gain: ${Math.round(tdee)} + 300 = <strong>${Math.round(tdee + 300)} cal/day</strong>
    `;
        }
      }

      function resetForm() {
        document.getElementById("weight").value = 70;
        document.getElementById("height").value = 170;
        document.getElementById("age").value = 30;
        document.getElementById("activityLevel").value = "1.55";
        setGender("male");

        document.getElementById("resultsSection").classList.add("hidden");
        document.getElementById("calculationDetails").classList.add("hidden");

        if (pieChart) {
          pieChart.destroy();
          pieChart = null;
        }
        if (barChart) {
          barChart.destroy();
          barChart = null;
        }

        if (window.innerWidth < 768) {
          window.scrollTo({ top: 0, behavior: "smooth" });
        }
      }

      function toggleDetails() {
        const detailsSection = document.getElementById("calculationDetails");
        detailsSection.classList.toggle("hidden");

        if (window.innerWidth < 768 && !detailsSection.classList.contains("hidden")) {
          detailsSection.scrollIntoView({ behavior: "smooth" });
        }
      }

      function downloadPDF() {
        if (document.getElementById("resultsSection").classList.contains("hidden")) {
          alert("Please calculate your calorie needs first");
          return;
        }

        const { jsPDF } = window.jspdf;
        const doc = new jsPDF();

        doc.setFontSize(20);
        doc.setTextColor(44, 62, 80);
        doc.text("Daily Calorie Needs Report", 105, 15, { align: "center" });

        doc.setFontSize(12);
        doc.setTextColor(85, 85, 85);

        let yPos = 30;
        doc.setFontSize(14);
        doc.setTextColor(44, 62, 80);
        doc.text("Your Results", 20, yPos);
        
        yPos += 10;
        doc.setFontSize(11);
        doc.setTextColor(85, 85, 85);
        doc.text("BMR: " + document.getElementById("bmrValue").textContent, 20, yPos);
        yPos += 8;
        doc.text("TDEE: " + document.getElementById("tdeeValue").textContent, 20, yPos);
        yPos += 8;
        doc.text("Weekly: " + document.getElementById("weeklyCalories").textContent, 20, yPos);
        yPos += 8;
        doc.text("Monthly: " + document.getElementById("monthlyCalories").textContent, 20, yPos);

        yPos += 15;
        doc.setFontSize(14);
        doc.setTextColor(44, 62, 80);
        doc.text("Calorie Goals", 20, yPos);

        yPos += 10;
        doc.setFontSize(11);
        doc.setTextColor(85, 85, 85);
        doc.text("Weight Loss: " + document.getElementById("weightLossCalories").textContent, 20, yPos);
        yPos += 8;
        doc.text("Maintenance: " + document.getElementById("maintenanceCalories").textContent, 20, yPos);
        yPos += 8;
        doc.text("Muscle Gain: " + document.getElementById("muscleGainCalories").textContent, 20, yPos);

        yPos += 15;
        doc.setFontSize(14);
        doc.setTextColor(44, 62, 80);
        doc.text("Macronutrient Breakdown", 20, yPos);

        yPos += 10;
        doc.setFontSize(11);
        doc.setTextColor(85, 85, 85);
        doc.text("Protein: " + document.getElementById("proteinValue").textContent, 20, yPos);
        yPos += 8;
        doc.text("Carbohydrates: " + document.getElementById("carbsValue").textContent, 20, yPos);
        yPos += 8;
        doc.text("Fats: " + document.getElementById("fatsValue").textContent, 20, yPos);

        yPos += 15;
        doc.setFontSize(14);
        doc.setTextColor(44, 62, 80);
        doc.text("Personal Details", 20, yPos);

        yPos += 10;
        doc.setFontSize(11);
        doc.setTextColor(85, 85, 85);
        doc.text("Weight: " + document.getElementById("weight").value + " " + weightUnit, 20, yPos);
        yPos += 8;
        doc.text("Height: " + document.getElementById("height").value + " " + heightUnit, 20, yPos);
        yPos += 8;
        doc.text("Age: " + document.getElementById("age").value + " years", 20, yPos);
        yPos += 8;
        doc.text("Gender: " + (gender.charAt(0).toUpperCase() + gender.slice(1)), 20, yPos);

        doc.setFontSize(9);
        doc.setTextColor(150, 150, 150);
        doc.text("Generated by Daily Calorie Needs Calculator", 105, 280, { align: "center" });
        doc.text(new Date().toLocaleString(), 105, 285, { align: "center" });

        doc.save("Daily-Calorie-Needs-Report.pdf");
      }

      function shareCalculator() {
        if (navigator.share) {
          navigator
            .share({
              title: "Daily Calorie Needs Calculator",
              text: "Calculate your BMR, TDEE, and personalized calorie goals!",
              url: window.location.href,
            })
            .then(() => console.log("Shared successfully"))
            .catch((error) => console.log("Error sharing:", error));
        } else {
          const url = window.location.href;
          if (navigator.clipboard) {
            navigator.clipboard.writeText(url).then(() => {
              alert("Link copied to clipboard!");
            });
          } else {
            alert("Sharing not supported. URL: " + url);
          }
        }
      }

      function toggleDarkMode() {
        alert("Dark mode feature coming soon!");
      }

      let resizeTimeout;
      window.addEventListener("resize", () => {
        clearTimeout(resizeTimeout);
        resizeTimeout = setTimeout(() => {
          if (!document.getElementById("resultsSection").classList.contains("hidden")) {
            if (pieChart) pieChart.resize();
            if (barChart) barChart.resize();
          }
        }, 250);
      });

      document.addEventListener("DOMContentLoaded", function () {
        setGender("male");

        const numberInputs = document.querySelectorAll('input[type="number"]');
        numberInputs.forEach((input) => {
          input.addEventListener("input", function () {
            if (this.value < 0) this.value = 0;
            if (
              this.hasAttribute("max") &&
              parseFloat(this.value) > parseFloat(this.getAttribute("max"))
            ) {
              this.value = this.getAttribute("max");
            }
          });
        });

        document.addEventListener("keypress", function (e) {
          if (e.key === "Enter" && e.target.tagName !== "BUTTON") {
            e.preventDefault();
            calculateCalories();
          }
        });

        if ("ontouchstart" in window) {
          document.querySelectorAll("button, .toggle-btn").forEach((btn) => {
            btn.addEventListener("touchstart", function () {
              this.style.transform = "scale(0.98)";
            });
            btn.addEventListener("touchend", function () {
              this.style.transform = "scale(1)";
            });
          });
        }
      });

      let lastTouchEnd = 0;
      document.addEventListener(
        "touchend",
        function (event) {
          const now = new Date().getTime();
          if (now - lastTouchEnd <= 300) {
            event.preventDefault();
          }
          lastTouchEnd = now;
        },
        false
      );

      function setVH() {
        let vh = window.innerHeight * 0.01;
        document.documentElement.style.setProperty("--vh", `${vh}px`);
      }

      setVH();
      window.addEventListener("resize", setVH);
      window.addEventListener("orientationchange", setVH);
    </script>
  </body>
</html>
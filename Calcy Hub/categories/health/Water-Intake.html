<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      Water Intake Calculator üíß - Daily Hydration Tracker & Personalized Water Reminder
    </title>
    <meta
      name="description"
      content="Free Water Intake Calculator with personalized hydration recommendations. Calculate your daily water needs based on weight, activity level, climate, and health goals. Track hydration with reminders."
    />
    <meta
      name="keywords"
      content="water intake calculator, hydration calculator, daily water needs, water tracker, hydration reminder, how much water to drink, water consumption calculator, dehydration prevention"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      :root {
        --primary-bg: #e0f7fa;
        --primary-color: #00acc1;
        --secondary-color: #0097a7;
        --text-dark: #263238;
        --text-light: #546e7a;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: var(--primary-bg);
        color: var(--text-dark);
        padding: 10px;
        min-height: 100vh;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
      }

      /* Top Bar */
      .header {
        background: var(--primary-bg);
        padding: 10px 12px;
        border: 1px solid #80deea;
        border-radius: 10px;
        box-shadow: 0px 0px 16px #b2ebf2, -9px -9px 16px #ffffff;
        display: flex;
        align-items: center;
        gap: 10px;
        margin-bottom: 15px;
        flex-wrap: nowrap;
      }

      .back-btn {
        background: var(--primary-bg);
        border: 1px solid #80deea;
        padding: 8px 12px;
        border-radius: 10px;
        box-shadow: 4px 4px 8px #b2ebf2, -4px -4px 8px #ffffff;
        cursor: pointer;
        color: var(--text-light);
        font-size: 12px;
        transition: all 0.3s;
        white-space: nowrap;
        flex-shrink: 0;
      }

      .back-btn:hover {
        box-shadow: inset 3px 3px 7px #b2ebf2, inset -3px -3px 7px #ffffff;
      }

      .back-btn:active {
        box-shadow: inset 5px 5px 10px #b2ebf2, inset -5px -5px 10px #ffffff;
      }

      .header-center {
        flex: 1;
        text-align: center;
        min-width: 0;
      }

      .header-center h1 {
        font-size: 16px;
        margin-bottom: 0;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        color: var(--primary-color);
      }

      .header-actions {
        display: flex;
        gap: 6px;
        flex-shrink: 0;
      }

      .icon-btn {
        background: var(--primary-bg);
        border: 1px solid #80deea;
        width: 32px;
        height: 32px;
        border-radius: 8px;
        box-shadow: 4px 4px 8px #b2ebf2, -4px -4px 8px #ffffff;
        cursor: pointer;
        font-size: 14px;
        transition: all 0.3s;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .icon-btn:active {
        box-shadow: inset 4px 4px 8px #b2ebf2, inset -4px -4px 8px #ffffff;
      }

      /* Main Content */
      .main-content {
        display: grid;
        grid-template-columns: 1fr;
        gap: 15px;
      }

      /* Card Style */
      .card {
        background: var(--primary-bg);
        padding: 15px;
        border-radius: 15px;
        border: 1px solid #80deea;
        box-shadow: 0px 0px 16px #b2ebf2, -9px -9px 16px #ffffff;
      }

      .card h2 {
        font-size: 18px;
        margin-bottom: 12px;
        color: var(--primary-color);
      }

      /* Input Groups */
      .input-group {
        margin-bottom: 12px;
      }

      .input-group label {
        display: block;
        margin-bottom: 8px;
        font-weight: 600;
        color: var(--text-light);
        font-size: 13px;
      }

      .input-wrapper {
        position: relative;
      }

      input[type="number"],
      select {
        width: 100%;
        padding: 7px 15px;
        border: none;
        border-radius: 10px;
        border: 1px solid #80deea;
        background: var(--primary-bg);
        box-shadow: inset 0px 0px 8px #b2ebf2, inset -4px -4px 8px #ffffff;
        font-size: 14px;
        color: var(--text-dark);
        transition: all 0.3s;
      }

      input[type="number"]:focus,
      select:focus {
        outline: none;
        box-shadow: inset 6px 6px 12px #b2ebf2, inset -6px -6px 12px #ffffff;
      }

      .unit-toggle {
        display: inline-block;
        margin-left: 10px;
        font-size: 11px;
        color: var(--primary-color);
        cursor: pointer;
        text-decoration: underline;
      }

      /* Toggle Switch */
      .toggle-group {
        display: flex;
        gap: 8px;
        flex-wrap: wrap;
      }

      .toggle-btn {
        flex: 1;
        min-width: 80px;
        padding: 7px 15px;
        border: none;
        border-radius: 10px;
        border: 1px solid #80deea;
        background: var(--primary-bg);
        box-shadow: 0px 0px 10px #b2ebf2, -5px -5px 10px #ffffff;
        cursor: pointer;
        font-size: 13px;
        color: var(--text-light);
        transition: all 0.3s;
      }

      .toggle-btn.active {
        box-shadow: inset 4px 4px 8px #b2ebf2, inset -4px -4px 8px #ffffff;
        color: var(--primary-color);
        font-weight: 600;
      }

      /* Buttons */
      .btn-group {
        display: flex;
        gap: 10px;
        margin-top: 20px;
        flex-wrap: wrap;
      }

      .calculate-btn {
        flex: 2;
        min-width: 150px;
        padding: 14px 30px;
        border: none;
        border-radius: 12px;
        background: linear-gradient(145deg, var(--primary-color), var(--secondary-color));
        color: white;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        box-shadow: 6px 6px 12px #b2ebf2, -6px -6px 12px #ffffff;
        transition: all 0.3s;
      }

      .calculate-btn:hover {
        transform: translateY(-2px);
        box-shadow: 8px 8px 16px #b2ebf2, -8px -8px 16px #ffffff;
      }

      .calculate-btn:active {
        transform: translateY(0);
        box-shadow: inset 2px 2px 8px var(--secondary-color), inset -4px -4px 8px #26c6da;
      }

      .reset-btn {
        flex: 1;
        min-width: 100px;
        padding: 14px 20px;
        border: none;
        border-radius: 12px;
        background: var(--primary-bg);
        color: var(--text-light);
        font-size: 15px;
        font-weight: 600;
        cursor: pointer;
        box-shadow: 5px 5px 10px #b2ebf2, -5px -5px 10px #ffffff;
        transition: all 0.3s;
      }

      .reset-btn:hover {
        box-shadow: 3px 3px 6px #b2ebf2, -3px -3px 6px #ffffff;
      }

      .reset-btn:active {
        box-shadow: inset 3px 3px 6px #b2ebf2, inset -3px -3px 6px #ffffff;
      }

      /* Results */
      .results-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
        gap: 12px;
        margin-bottom: 20px;
      }

      .result-item {
        background: var(--primary-bg);
        padding: 10px;
        border-radius: 12px;
        box-shadow: inset 4px 4px 8px #b2ebf2, inset -4px -4px 8px #ffffff;
        text-align: center;
      }

      .result-label {
        font-size: 9px;
        color: var(--text-light);
        margin-bottom: 6px;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      .result-value {
        font-size: 18px;
        font-weight: 700;
        color: var(--primary-color);
        word-break: break-word;
      }

      /* Charts */
      .charts-container {
        display: grid;
        grid-template-columns: 1fr;
        gap: 15px;
        margin-bottom: 20px;
      }

      .chart-wrapper {
        background: var(--primary-bg);
        padding: 15px;
        border-radius: 12px;
        box-shadow: 9px 9px 16px #b2ebf2, -9px -9px 16px #ffffff;
      }

      .chart-wrapper h3 {
        margin-bottom: 15px;
        color: var(--text-dark);
        font-size: 16px;
      }

      .chart-wrapper canvas {
        max-height: 150px;
      }

      /* Action Buttons */
      .action-buttons {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
        margin-bottom: 20px;
      }

      .action-btn {
        padding: 10px 20px;
        border: none;
        border-radius: 10px;
        background: var(--primary-bg);
        color: var(--text-light);
        font-size: 13px;
        font-weight: 600;
        cursor: pointer;
        box-shadow: 5px 5px 10px #b2ebf2, -5px -5px 10px #ffffff;
        transition: all 0.3s;
        display: flex;
        align-items: center;
        gap: 8px;
        flex: 1;
        min-width: 140px;
        justify-content: center;
      }

      .action-btn:hover {
        box-shadow: 3px 3px 6px #b2ebf2, -3px -3px 6px #ffffff;
      }

      .action-btn:active {
        box-shadow: inset 3px 3px 6px #b2ebf2, inset -3px -3px 6px #ffffff;
      }

      /* Info Cards */
      .info-cards {
        display: grid;
        grid-template-columns: 1fr;
        gap: 15px;
        margin-top: 20px;
      }

      .info-card {
        background: var(--primary-bg);
        padding: 15px;
        border-radius: 12px;
        border: 1px solid #80deea;
        box-shadow: 0px 0px 16px #b2ebf2, -9px -9px 16px #ffffff;
      }

      .info-card h3 {
        color: var(--primary-color);
        margin-bottom: 12px;
        font-size: 16px;
      }

      .info-card p,
      .info-card ul {
        color: var(--text-light);
        line-height: 1.7;
        font-size: 15px;
      }

      .info-card ul {
        list-style: none;
        padding-left: 0;
      }

      .info-card li {
        padding-left: 20px;
        position: relative;
        margin-bottom: 8px;
      }

      .info-card li:before {
        content: "üíß";
        position: absolute;
        left: 0;
        font-weight: bold;
      }

      /* Hidden Sections */
      .hidden {
        display: none;
      }

      .hydration-tracker,
      .hydration-schedule,
      .calculation-details {
        margin-top: 20px;
        padding: 15px;
        background: var(--primary-bg);
        border-radius: 12px;
        box-shadow: inset 4px 4px 8px #b2ebf2, inset -4px -4px 8px #ffffff;
      }

      .hydration-tracker h3,
      .hydration-schedule h3,
      .calculation-details h3 {
        color: var(--text-dark);
        margin-bottom: 12px;
        font-size: 16px;
      }

      .formula {
        background: #f1f8fb;
        padding: 12px;
        border-radius: 8px;
        margin: 12px 0;
        font-family: "Courier New", monospace;
        overflow-x: auto;
        font-size: 12px;
      }

      .cards {
        background: var(--primary-bg);
        padding: 15px;
        margin-top: 15px;
        border-radius: 15px;
        border: 1px solid #80deea;
        box-shadow: 0px 0px 16px #b2ebf2, -9px -9px 16px #ffffff;
      }

      .cards h2 {
        font-size: 18px;
        margin-bottom: 12px;
        color: var(--primary-color);
      }

      /* Water Tracker */
      .water-cups {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(50px, 1fr));
        gap: 10px;
        margin: 15px 0;
      }

      .water-cup {
        width: 50px;
        height: 60px;
        background: var(--primary-bg);
        border: 2px solid #80deea;
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.3s;
        box-shadow: 3px 3px 6px #b2ebf2, -3px -3px 6px #ffffff;
        position: relative;
        overflow: hidden;
      }

      .water-cup.filled::before {
        content: '';
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        height: 100%;
        background: linear-gradient(180deg, #00acc1, #0097a7);
        animation: fillWater 0.5s ease;
      }

      @keyframes fillWater {
        from { height: 0%; }
        to { height: 100%; }
      }

      .water-cup::after {
        content: 'üíß';
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-size: 20px;
        z-index: 1;
      }

      .progress-bar {
        width: 100%;
        height: 30px;
        background: var(--primary-bg);
        border-radius: 15px;
        box-shadow: inset 4px 4px 8px #b2ebf2, inset -4px -4px 8px #ffffff;
        overflow: hidden;
        margin: 15px 0;
      }

      .progress-fill {
        height: 100%;
        background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
        border-radius: 15px;
        transition: width 0.5s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-weight: 600;
        font-size: 12px;
      }

      /* Schedule Table */
      .schedule-table {
        width: 100%;
        margin: 15px 0;
        border-collapse: separate;
        border-spacing: 0 8px;
      }

      .schedule-table td {
        padding: 10px;
        background: var(--primary-bg);
        box-shadow: 3px 3px 6px #b2ebf2, -3px -3px 6px #ffffff;
        border-radius: 8px;
      }

      .schedule-table td:first-child {
        font-weight: 600;
        color: var(--primary-color);
      }

      /* Mobile specific adjustments */
      @media (max-width: 480px) {
        body {
          padding: 8px;
        }

        .header {
          padding: 8px 10px;
          gap: 6px;
        }

        .header-center h1 {
          font-size: 17px;
          margin-bottom: 3px;
        }

        .back-btn {
          display: none;
        }

        .icon-btn {
          width: 28px;
          height: 28px;
          font-size: 12px;
        }

        .card {
          padding: 12px;
        }

        .card h2 {
          font-size: 16px;
        }

        .results-grid {
          grid-template-columns: 1fr 1fr;
        }

        .result-value {
          font-size: 14px;
        }

        .action-buttons {
          flex-direction: column;
        }

        .action-btn {
          width: 100%;
          min-width: auto;
        }

        .water-cups {
          grid-template-columns: repeat(auto-fill, minmax(45px, 1fr));
        }

        .water-cup {
          width: 45px;
          height: 55px;
        }
      }

      /* Tablet and larger screens */
      @media (min-width: 768px) {
        body {
          padding: 20px;
        }

        .header {
          padding: 12px 15px;
        }

        .back-btn {
          padding: 10px 16px;
          font-size: 13px;
        }

        .header-center h1 {
          font-size: 20px;
        }

        .icon-btn {
          width: 36px;
          height: 36px;
          font-size: 16px;
        }

        .main-content {
          grid-template-columns: 1fr 1fr;
          gap: 25px;
        }

        .card {
          padding: 20px;
        }

        .card h2 {
          font-size: 22px;
        }

        .cards.full-width {
          grid-column: 1 / -1;
        }

        .results-grid {
          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
          gap: 20px;
        }

        .result-value {
          font-size: 24px;
        }

        .charts-container {
          grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
          gap: 25px;
        }

        .chart-wrapper canvas {
          max-height: 300px;
        }

        .info-cards {
          grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
          gap: 25px;
        }

        .water-cups {
          grid-template-columns: repeat(auto-fill, minmax(60px, 1fr));
        }

        .water-cup {
          width: 60px;
          height: 70px;
        }
      }

      @media (min-width: 1024px) {
        .header-center h1 {
          font-size: 24px;
        }

        .result-value {
          font-size: 26px;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <!-- Top Bar -->
      <div class="header">
        <button class="back-btn" onclick="window.history.back()">
          <span>‚Üê</span> Go Back
        </button>
        <div class="header-center">
          <h1>Water Intake Calculator üíß</h1>
        </div>
        <div class="header-actions">
          <button class="icon-btn" onclick="shareCalculator()" title="Share">
            üì§
          </button>
          <button class="icon-btn" onclick="downloadPDF()" title="Download PDF">
            üìÑ
          </button>
          <button
            class="icon-btn"
            onclick="toggleDarkMode()"
            title="Toggle Theme"
          >
            üåì
          </button>
        </div>
      </div>

      <div class="main-content">
        <!-- Input Section -->
        <div class="card">
          <h2>Personal Details</h2>

          <div class="input-group">
            <label for="weight">
              Weight
              <span
                class="unit-toggle"
                id="weightUnit"
                onclick="toggleWeightUnit()"
                >kg</span
              >
            </label>
            <input
              type="number"
              id="weight"
              value="70"
              min="20"
              max="300"
              step="0.1"
            />
          </div>

          <div class="input-group">
            <label for="age">Age (years)</label>
            <input type="number" id="age" value="30" min="10" max="100" />
          </div>

          <div class="input-group">
            <label>Gender</label>
            <div class="toggle-group">
              <button
                class="toggle-btn active"
                id="genderMale"
                onclick="setGender('male')"
              >
                Male
              </button>
              <button
                class="toggle-btn"
                id="genderFemale"
                onclick="setGender('female')"
              >
                Female
              </button>
            </div>
          </div>

          <div class="input-group">
            <label for="activityLevel">Activity Level</label>
            <select id="activityLevel">
              <option value="low">Sedentary (little/no exercise)</option>
              <option value="moderate" selected>Moderate (3-5 days/week)</option>
              <option value="high">Very Active (daily intense exercise)</option>
              <option value="athlete">Athlete (training 2x daily)</option>
            </select>
          </div>

          <div class="input-group">
            <label for="climate">Climate</label>
            <select id="climate">
              <option value="cold">Cold (below 15¬∞C)</option>
              <option value="moderate" selected>Moderate (15-25¬∞C)</option>
              <option value="hot">Hot (25-35¬∞C)</option>
              <option value="extreme">Extreme Heat (above 35¬∞C)</option>
            </select>
          </div>
        </div>

        <!-- Quick Info -->
        <div class="card">
          <h2>Hydration Facts üíß</h2>
          <div style="color: var(--text-light); line-height: 1.8">
            <p style="margin-bottom: 15px">
              üíß <strong>60%</strong> of your body is water
            </p>
            <p style="margin-bottom: 15px">
              üß† <strong>Dehydration</strong> affects brain function and mood
            </p>
            <p style="margin-bottom: 15px">
              ‚ö° Proper hydration <strong>boosts energy</strong> and performance
            </p>
            <p style="margin-bottom: 15px">
              üèÉ Athletes need <strong>150%</strong> more water during training
            </p>
          </div>
        </div>
      </div>

      <!-- Additional Factors -->
      <div class="cards full-width">
        <h2>Additional Factors</h2>

        <div class="input-group">
          <label for="exerciseDuration">Daily Exercise Duration (minutes)</label>
          <input type="number" id="exerciseDuration" value="30" min="0" max="300" />
        </div>

        <div class="input-group">
          <label>Pregnancy/Breastfeeding</label>
          <div class="toggle-group">
            <button
              class="toggle-btn active"
              id="pregnancyNone"
              onclick="setPregnancy('none')"
            >
              None
            </button>
            <button
              class="toggle-btn"
              id="pregnancyPregnant"
              onclick="setPregnancy('pregnant')"
            >
              Pregnant
            </button>
            <button
              class="toggle-btn"
              id="pregnancyBreastfeeding"
              onclick="setPregnancy('breastfeeding')"
            >
              Breastfeeding
            </button>
          </div>
        </div>

        <div class="input-group">
          <label>Health Condition</label>
          <div class="toggle-group">
            <button
              class="toggle-btn active"
              id="healthNormal"
              onclick="setHealth('normal')"
            >
              Normal
            </button>
            <button
              class="toggle-btn"
              id="healthKidney"
              onclick="setHealth('kidney')"
            >
              Kidney Issues
            </button>
            <button
              class="toggle-btn"
              id="healthHeart"
              onclick="setHealth('heart')"
            >
              Heart Issues
            </button>
          </div>
        </div>

        <div class="btn-group">
          <button class="calculate-btn" onclick="calculateWaterIntake()">
            Calculate Water Needs
          </button>
          <button class="reset-btn" onclick="resetForm()">Reset</button>
        </div>
      </div>

      <!-- Results Section -->
      <div class="cards full-width hidden" id="resultsSection">
        <h2>Your Hydration Plan</h2>

        <div class="results-grid">
          <div class="result-item">
            <div class="result-label">Daily Water Intake</div>
            <div class="result-value" id="dailyIntake">-</div>
          </div>
          <div class="result-item">
            <div class="result-label">Glasses (250ml)</div>
            <div class="result-value" id="glassCount">-</div>
          </div>
          <div class="result-item">
            <div class="result-label">Bottles (500ml)</div>
            <div class="result-value" id="bottleCount">-</div>
          </div>
          <div class="result-item">
            <div class="result-label">Hourly Intake</div>
            <div class="result-value" id="hourlyIntake">-</div>
          </div>
        </div>

        <!-- Charts -->
        <div class="charts-container">
          <div class="chart-wrapper">
            <h3>Hydration Sources</h3>
            <canvas id="pieChart"></canvas>
          </div>
          <div class="chart-wrapper">
            <h3>Daily Water Distribution</h3>
            <canvas id="barChart"></canvas>
          </div>
        </div>

        <!-- Action Buttons -->
        <div class="action-buttons">
          <button class="action-btn" onclick="downloadPDF()">
            üìÑ Download Plan
          </button>
          <button class="action-btn" onclick="toggleTracker()">
            üíß Track Today
          </button>
          <button class="action-btn" onclick="toggleSchedule()">
            ‚è∞ View Schedule
          </button>
          <button class="action-btn" onclick="toggleDetails()">
            üìä View Details
          </button>
        </div>

        <!-- Water Tracker -->
        <div class="hydration-tracker hidden" id="trackerSection">
          <h3>Today's Water Tracker</h3>
          <div class="progress-bar">
            <div class="progress-fill" id="progressFill" style="width: 0%">0%</div>
          </div>
          <p style="text-align: center; color: var(--text-light); margin: 10px 0;">
            <span id="trackedAmount">0</span> / <span id="targetAmount">0</span> ml
          </p>
          <div class="water-cups" id="waterCups"></div>
          <button class="reset-btn" onclick="resetTracker()" style="margin-top: 15px; width: 100%;">
            Reset Today's Tracker
          </button>
        </div>

        <!-- Hydration Schedule -->
        <div class="hydration-schedule hidden" id="scheduleSection">
          <h3>Recommended Drinking Schedule</h3>
          <table class="schedule-table" id="scheduleTable"></table>
        </div>

        <!-- Calculation Details -->
        <div class="calculation-details hidden" id="detailsSection">
          <h3>Calculation Breakdown</h3>
          <div class="formula">
            <strong>Base Water Intake Formula:</strong><br />
            Basic needs = Weight (kg) √ó 30-35 ml<br /><br />
            <strong>Activity Adjustment:</strong><br />
            + Exercise duration √ó 12 ml per minute<br /><br />
            <strong>Climate Adjustment:</strong><br />
            Moderate: +0% | Hot: +20% | Extreme: +35%<br /><br />
            <strong>Special Conditions:</strong><br />
            Pregnancy: +300 ml | Breastfeeding: +700 ml
          </div>
          <div id="calculationExample" style="margin-top: 15px; color: var(--text-light); line-height: 1.8"></div>
        </div>
      </div>

      <!-- Info Cards -->
      <div class="info-cards">
        <div class="info-card">
          <h3>How to Use This Calculator</h3>
          <ul>
            <li>Enter your accurate weight and age</li>
            <li>Select your gender for personalized calculation</li>
            <li>Choose your activity level and climate</li>
            <li>Add exercise duration and special conditions</li>
            <li>Click "Calculate Water Needs" for your plan</li>
            <li>Use the tracker to monitor daily intake</li>
            <li>Follow the recommended drinking schedule</li>
            <li>Download your plan as PDF for reference</li>
          </ul>
        </div>

        <div class="info-card">
          <h3>Benefits of Proper Hydration</h3>
          <ul>
            <li>Improves physical performance and endurance</li>
            <li>Enhances brain function and concentration</li>
            <li>Aids in weight management and metabolism</li>
            <li>Prevents headaches and migraines</li>
            <li>Promotes healthy skin and appearance</li>
            <li>Supports kidney function and detoxification</li>
            <li>Regulates body temperature</li>
            <li>Reduces fatigue and boosts energy</li>
          </ul>
        </div>

        <div class="info-card">
          <h3>Signs of Dehydration</h3>
          <ul>
            <li>Dark yellow urine (should be light yellow)</li>
            <li>Dry mouth, lips, and skin</li>
            <li>Headache and dizziness</li>
            <li>Fatigue and low energy</li>
            <li>Rapid heartbeat</li>
            <li>Decreased urination frequency</li>
            <li>Confusion or irritability</li>
            <li>Muscle cramps</li>
          </ul>
        </div>

        <div class="info-card">
          <h3>Hydration Tips</h3>
          <ul>
            <li>Drink water first thing in the morning</li>
            <li>Carry a reusable water bottle everywhere</li>
            <li>Set hourly reminders on your phone</li>
            <li>Eat water-rich foods (cucumber, watermelon)</li>
            <li>Drink before, during, and after exercise</li>
            <li>Monitor your urine color as a guide</li>
            <li>Increase intake in hot weather</li>
            <li>Don't wait until you're thirsty to drink</li>
          </ul>
        </div>

        <div class="info-card">
          <h3>Water-Rich Foods</h3>
          <p style="margin-bottom: 10px;">Complement your water intake with these hydrating foods:</p>
          <ul>
            <li>Cucumber (96% water) - perfect for salads</li>
            <li>Watermelon (92% water) - refreshing snack</li>
            <li>Strawberries (91% water) - vitamin C boost</li>
            <li>Lettuce (95% water) - salad base</li>
            <li>Celery (95% water) - crunchy and hydrating</li>
            <li>Tomatoes (94% water) - versatile ingredient</li>
            <li>Zucchini (94% water) - cooking staple</li>
            <li>Bell Peppers (92% water) - nutrient-rich</li>
          </ul>
        </div>

        <div class="info-card">
          <h3>When to Drink More Water</h3>
          <ul>
            <li>During and after physical exercise</li>
            <li>In hot or humid weather conditions</li>
            <li>At high altitudes (above 2,500m)</li>
            <li>When you have fever, diarrhea, or vomiting</li>
            <li>During pregnancy and breastfeeding</li>
            <li>When consuming alcohol or caffeine</li>
            <li>If taking certain medications</li>
            <li>When working in heated environments</li>
          </ul>
        </div>
      </div>
    </div>

    <script>
      // Water Intake Calculator JS
      let gender = "male";
      let weightUnit = "kg";
      let pregnancy = "none";
      let health = "normal";
      let pieChart, barChart;
      let trackedWater = 0;
      let targetWater = 0;
      let cupSize = 250; // ml

      function setGender(g) {
        gender = g;
        document
          .getElementById("genderMale")
          .classList.toggle("active", g === "male");
        document
          .getElementById("genderFemale")
          .classList.toggle("active", g === "female");
      }

      function setPregnancy(p) {
        pregnancy = p;
        document
          .getElementById("pregnancyNone")
          .classList.toggle("active", p === "none");
        document
          .getElementById("pregnancyPregnant")
          .classList.toggle("active", p === "pregnant");
        document
          .getElementById("pregnancyBreastfeeding")
          .classList.toggle("active", p === "breastfeeding");
      }

      function setHealth(h) {
        health = h;
        document
          .getElementById("healthNormal")
          .classList.toggle("active", h === "normal");
        document
          .getElementById("healthKidney")
          .classList.toggle("active", h === "kidney");
        document
          .getElementById("healthHeart")
          .classList.toggle("active", h === "heart");
      }

      function toggleWeightUnit() {
        const input = document.getElementById("weight");
        const unitSpan = document.getElementById("weightUnit");

        if (weightUnit === "kg") {
          weightUnit = "lbs";
          input.value = (parseFloat(input.value) * 2.20462).toFixed(1);
          unitSpan.textContent = "lbs";
        } else {
          weightUnit = "kg";
          input.value = (parseFloat(input.value) / 2.20462).toFixed(1);
          unitSpan.textContent = "kg";
        }
      }

      function calculateWaterIntake() {
        // Get values
        const weight = parseFloat(document.getElementById("weight").value);
        const age = parseInt(document.getElementById("age").value);
        const activityLevel = document.getElementById("activityLevel").value;
        const climate = document.getElementById("climate").value;
        const exerciseDuration = parseInt(document.getElementById("exerciseDuration").value);

        // Validate inputs
        if (!weight || weight <= 0 || !age || age <= 0) {
          alert("Please enter valid weight and age");
          return;
        }

        // Convert weight to kg
        const weightKg = weightUnit === "kg" ? weight : weight / 2.20462;

        // Base calculation: 30-35 ml per kg
        let baseIntake = weightKg * 33;

        // Activity level adjustment
        const activityMultipliers = {
          low: 1.0,
          moderate: 1.15,
          high: 1.3,
          athlete: 1.5
        };
        baseIntake *= activityMultipliers[activityLevel];

        // Exercise adjustment: 12 ml per minute
        const exerciseWater = exerciseDuration * 12;

        // Climate adjustment
        const climateMultipliers = {
          cold: 1.0,
          moderate: 1.0,
          hot: 1.2,
          extreme: 1.35
        };
        baseIntake *= climateMultipliers[climate];

        // Pregnancy/Breastfeeding adjustment
        if (pregnancy === "pregnant") {
          baseIntake += 300;
        } else if (pregnancy === "breastfeeding") {
          baseIntake += 700;
        }

        // Age adjustment
        if (age > 65) {
          baseIntake *= 1.1; // Elderly need more water
        }

        // Gender adjustment
        if (gender === "female" && pregnancy === "none") {
          baseIntake *= 0.95;
        }

        // Total water intake
        let totalIntake = baseIntake + exerciseWater;

        // Health condition warnings
        let healthWarning = "";
        if (health === "kidney" || health === "heart") {
          healthWarning = "‚ö†Ô∏è Please consult your doctor for personalized water intake recommendations due to your health condition.";
          totalIntake *= 0.85; // Conservative recommendation
        }

        // Round to nearest 50ml
        totalIntake = Math.round(totalIntake / 50) * 50;

        // Calculate glasses and bottles
        const glasses = Math.ceil(totalIntake / 250);
        const bottles = Math.ceil(totalIntake / 500);
        const hourly = Math.round(totalIntake / 16); // 16 waking hours

        // Update UI
        targetWater = totalIntake;
        document.getElementById("resultsSection").classList.remove("hidden");
        document.getElementById("dailyIntake").textContent = totalIntake + " ml";
        document.getElementById("glassCount").textContent = glasses;
        document.getElementById("bottleCount").textContent = bottles;
        document.getElementById("hourlyIntake").textContent = hourly + " ml";

        // Initialize tracker
        initializeTracker(glasses);

        // Generate schedule
        generateSchedule(totalIntake);

        // Draw charts
        drawCharts(totalIntake, baseIntake, exerciseWater);

        // Show calculation details
        showCalculationDetails(weightKg, age, activityLevel, climate, exerciseDuration, baseIntake, exerciseWater, totalIntake, healthWarning);

        // Scroll to results on mobile
        if (window.innerWidth < 768) {
          document
            .getElementById("resultsSection")
            .scrollIntoView({ behavior: "smooth" });
        }
      }

      function initializeTracker(glasses) {
        const cupsContainer = document.getElementById("waterCups");
        cupsContainer.innerHTML = "";
        trackedWater = 0;

        for (let i = 0; i < glasses; i++) {
          const cup = document.createElement("div");
          cup.className = "water-cup";
          cup.onclick = () => toggleCup(i, cup);
          cupsContainer.appendChild(cup);
        }

        document.getElementById("targetAmount").textContent = targetWater;
        document.getElementById("trackedAmount").textContent = "0";
        updateProgress();
      }

      function toggleCup(index, cupElement) {
        if (cupElement.classList.contains("filled")) {
          cupElement.classList.remove("filled");
          trackedWater -= cupSize;
        } else {
          cupElement.classList.add("filled");
          trackedWater += cupSize;
        }
        updateProgress();
      }

      function updateProgress() {
        const percentage = Math.min((trackedWater / targetWater) * 100, 100);
        const progressFill = document.getElementById("progressFill");
        progressFill.style.width = percentage + "%";
        progressFill.textContent = Math.round(percentage) + "%";
        document.getElementById("trackedAmount").textContent = trackedWater;
      }

      function resetTracker() {
        const cups = document.querySelectorAll(".water-cup");
        cups.forEach(cup => cup.classList.remove("filled"));
        trackedWater = 0;
        updateProgress();
      }

      function generateSchedule(totalIntake) {
        const scheduleTable = document.getElementById("scheduleTable");
        scheduleTable.innerHTML = "";

        const schedule = [
          { time: "6:00 AM", activity: "Wake Up", amount: Math.round(totalIntake * 0.08) },
          { time: "8:00 AM", activity: "Breakfast", amount: Math.round(totalIntake * 0.08) },
          { time: "10:00 AM", activity: "Mid-Morning", amount: Math.round(totalIntake * 0.08) },
          { time: "12:00 PM", activity: "Lunch", amount: Math.round(totalIntake * 0.10) },
          { time: "2:00 PM", activity: "Afternoon", amount: Math.round(totalIntake * 0.08) },
          { time: "4:00 PM", activity: "Pre-Exercise", amount: Math.round(totalIntake * 0.10) },
          { time: "6:00 PM", activity: "Dinner", amount: Math.round(totalIntake * 0.10) },
          { time: "8:00 PM", activity: "Evening", amount: Math.round(totalIntake * 0.08) },
        ];

        schedule.forEach(item => {
          const row = scheduleTable.insertRow();
          const cell1 = row.insertCell(0);
          const cell2 = row.insertCell(1);
          const cell3 = row.insertCell(2);

          cell1.textContent = item.time;
          cell2.textContent = item.activity;
          cell3.textContent = item.amount + " ml";
        });
      }

      function drawCharts(totalIntake, baseIntake, exerciseWater) {
        // Destroy existing charts
        if (pieChart) pieChart.destroy();
        if (barChart) barChart.destroy();

        // Pie Chart - Hydration Sources
        const waterFromFood = Math.round(totalIntake * 0.2);
        const waterFromDrinking = totalIntake - waterFromFood;

        const pieCtx = document.getElementById("pieChart");
        if (pieCtx) {
          pieChart = new Chart(pieCtx.getContext("2d"), {
            type: "doughnut",
            data: {
              labels: ["Water (Drinking)", "Water (Food)", "Exercise Extra"],
              datasets: [
                {
                  data: [waterFromDrinking - exerciseWater, waterFromFood, exerciseWater],
                  backgroundColor: ["#00acc1", "#26c6da", "#0097a7"],
                  borderColor: "#e0f7fa",
                  borderWidth: 2,
                },
              ],
            },
            options: {
              responsive: true,
              maintainAspectRatio: true,
              plugins: {
                legend: {
                  position: "bottom",
                  labels: {
                    padding: 10,
                    font: { size: 12 },
                  },
                },
                tooltip: {
                  callbacks: {
                    label: function (context) {
                      return (
                        context.label +
                        ": " +
                        Math.round(context.parsed) +
                        " ml"
                      );
                    },
                  },
                },
              },
            },
          });
        }

        // Bar Chart - Daily Distribution
        const barCtx = document.getElementById("barChart");
        if (barCtx) {
          const times = ["6AM", "8AM", "10AM", "12PM", "2PM", "4PM", "6PM", "8PM"];
          const amounts = [
            Math.round(totalIntake * 0.08),
            Math.round(totalIntake * 0.08),
            Math.round(totalIntake * 0.08),
            Math.round(totalIntake * 0.10),
            Math.round(totalIntake * 0.08),
            Math.round(totalIntake * 0.10),
            Math.round(totalIntake * 0.10),
            Math.round(totalIntake * 0.08),
          ];

          barChart = new Chart(barCtx.getContext("2d"), {
            type: "bar",
            data: {
              labels: times,
              datasets: [
                {
                  label: "Water Intake (ml)",
                  data: amounts,
                  backgroundColor: "#00acc1",
                  borderRadius: 5,
                },
              ],
            },
            options: {
              responsive: true,
              maintainAspectRatio: true,
              scales: {
                y: {
                  beginAtZero: true,
                  ticks: {
                    callback: function (value) {
                      return value + " ml";
                    },
                  },
                },
              },
              plugins: {
                legend: {
                  display: false,
                },
              },
            },
          });
        }
      }

      function showCalculationDetails(weightKg, age, activityLevel, climate, exerciseDuration, baseIntake, exerciseWater, totalIntake, healthWarning) {
        const detailsExample = document.getElementById("calculationExample");

        if (detailsExample) {
          detailsExample.innerHTML = `
      <strong>Your Profile:</strong><br>
      Weight: ${weightKg.toFixed(1)} kg<br>
      Age: ${age} years<br>
      Gender: ${gender}<br>
      Activity Level: ${activityLevel}<br>
      Climate: ${climate}<br>
      Exercise: ${exerciseDuration} minutes/day<br><br>

      <strong>Base Calculation:</strong><br>
      Base Water = Weight √ó 33 ml<br>
      Base Water = ${weightKg.toFixed(1)} √ó 33 = ${Math.round(weightKg * 33)} ml<br><br>

      <strong>Activity Adjustment:</strong><br>
      After activity multiplier: ${Math.round(baseIntake)} ml<br><br>

      <strong>Exercise Addition:</strong><br>
      Exercise Water = ${exerciseDuration} min √ó 12 ml = ${exerciseWater} ml<br><br>

      <strong>Special Adjustments:</strong><br>
      ${pregnancy === "pregnant" ? "Pregnancy: +300 ml<br>" : ""}
      ${pregnancy === "breastfeeding" ? "Breastfeeding: +700 ml<br>" : ""}
      ${age > 65 ? "Age 65+: +10%<br>" : ""}
      ${climate === "hot" ? "Hot Climate: +20%<br>" : ""}
      ${climate === "extreme" ? "Extreme Heat: +35%<br>" : ""}<br>

      <strong>Total Daily Water:</strong><br>
      <b>${totalIntake} ml (${Math.round(totalIntake / 1000 * 10) / 10} liters)</b><br><br>

      ${healthWarning ? `<div style="background: #ffebee; padding: 12px; border-radius: 8px; color: #c62828; margin-top: 15px;">${healthWarning}</div>` : ""}
    `;
        }
      }

      function resetForm() {
        document.getElementById("weight").value = 70;
        document.getElementById("age").value = 30;
        document.getElementById("activityLevel").value = "moderate";
        document.getElementById("climate").value = "moderate";
        document.getElementById("exerciseDuration").value = 30;
        setGender("male");
        setPregnancy("none");
        setHealth("normal");

        document.getElementById("resultsSection").classList.add("hidden");
        document.getElementById("trackerSection").classList.add("hidden");
        document.getElementById("scheduleSection").classList.add("hidden");
        document.getElementById("detailsSection").classList.add("hidden");

        if (pieChart) {
          pieChart.destroy();
          pieChart = null;
        }
        if (barChart) {
          barChart.destroy();
          barChart = null;
        }

        if (window.innerWidth < 768) {
          window.scrollTo({ top: 0, behavior: "smooth" });
        }
      }

      function toggleTracker() {
        const section = document.getElementById("trackerSection");
        section.classList.toggle("hidden");

        if (window.innerWidth < 768 && !section.classList.contains("hidden")) {
          section.scrollIntoView({ behavior: "smooth" });
        }
      }

      function toggleSchedule() {
        const section = document.getElementById("scheduleSection");
        section.classList.toggle("hidden");

        if (window.innerWidth < 768 && !section.classList.contains("hidden")) {
          section.scrollIntoView({ behavior: "smooth" });
        }
      }

      function toggleDetails() {
        const section = document.getElementById("detailsSection");
        section.classList.toggle("hidden");

        if (window.innerWidth < 768 && !section.classList.contains("hidden")) {
          section.scrollIntoView({ behavior: "smooth" });
        }
      }

      function downloadPDF() {
        if (
          document.getElementById("resultsSection").classList.contains("hidden")
        ) {
          alert("Please calculate water intake first");
          return;
        }

        const { jsPDF } = window.jspdf;
        const doc = new jsPDF();

        doc.setFontSize(18);
        doc.setTextColor(0, 172, 193);
        doc.text("Water Intake Calculator Results", 105, 15, {
          align: "center",
        });

        doc.setFontSize(12);
        doc.setTextColor(38, 50, 56);

        let yPos = 30;
        doc.text(
          "Daily Water Intake: " +
            document.getElementById("dailyIntake").textContent,
          20,
          yPos
        );
        yPos += 10;
        doc.text(
          "Glasses (250ml): " +
            document.getElementById("glassCount").textContent,
          20,
          yPos
        );
        yPos += 10;
        doc.text(
          "Bottles (500ml): " +
            document.getElementById("bottleCount").textContent,
          20,
          yPos
        );
        yPos += 10;
        doc.text(
          "Hourly Intake: " +
            document.getElementById("hourlyIntake").textContent,
          20,
          yPos
        );

        yPos += 20;
        doc.setFontSize(14);
        doc.text("Personal Details", 20, yPos);

        yPos += 10;
        doc.setFontSize(11);
        doc.text(
          "Weight: " +
            document.getElementById("weight").value +
            " " +
            weightUnit,
          20,
          yPos
        );
        yPos += 8;
        doc.text(
          "Age: " + document.getElementById("age").value + " years",
          20,
          yPos
        );
        yPos += 8;
        doc.text("Gender: " + gender, 20, yPos);
        yPos += 8;
        doc.text(
          "Activity: " + document.getElementById("activityLevel").value,
          20,
          yPos
        );
        yPos += 8;
        doc.text(
          "Climate: " + document.getElementById("climate").value,
          20,
          yPos
        );

        yPos += 15;
        doc.setFontSize(14);
        doc.text("Hydration Tips", 20, yPos);

        yPos += 10;
        doc.setFontSize(10);
        doc.text("‚Ä¢ Drink water first thing in the morning", 20, yPos);
        yPos += 6;
        doc.text("‚Ä¢ Carry a reusable water bottle", 20, yPos);
        yPos += 6;
        doc.text("‚Ä¢ Set hourly reminders", 20, yPos);
        yPos += 6;
        doc.text("‚Ä¢ Monitor urine color (light yellow is ideal)", 20, yPos);
        yPos += 6;
        doc.text("‚Ä¢ Drink before, during, and after exercise", 20, yPos);

        doc.setFontSize(9);
        doc.setTextColor(150, 150, 150);
        doc.text("Generated by Water Intake Calculator", 105, 280, {
          align: "center",
        });
        doc.text(new Date().toLocaleString(), 105, 285, { align: "center" });

        doc.save("Water-Intake-Plan.pdf");
      }

      function shareCalculator() {
        if (navigator.share) {
          navigator
            .share({
              title: "Water Intake Calculator",
              text: "Calculate your daily water needs with personalized recommendations!",
              url: window.location.href,
            })
            .then(() => console.log("Shared successfully"))
            .catch((error) => console.log("Error sharing:", error));
        } else {
          const url = window.location.href;
          if (navigator.clipboard) {
            navigator.clipboard.writeText(url).then(() => {
              alert("Link copied to clipboard!");
            });
          } else {
            alert("Sharing not supported on this browser. URL: " + url);
          }
        }
      }

      function toggleDarkMode() {
        alert("Dark mode feature coming soon!");
      }

      // Responsive: recalculate charts on window resize
      let resizeTimeout;
      window.addEventListener("resize", () => {
        clearTimeout(resizeTimeout);
        resizeTimeout = setTimeout(() => {
          if (
            !document
              .getElementById("resultsSection")
              .classList.contains("hidden")
          ) {
            if (pieChart) pieChart.resize();
            if (barChart) barChart.resize();
          }
        }, 250);
      });

      // Initialize on page load
      document.addEventListener("DOMContentLoaded", function () {
        setGender("male");
        setPregnancy("none");
        setHealth("normal");

        const numberInputs = document.querySelectorAll('input[type="number"]');
        numberInputs.forEach((input) => {
          input.addEventListener("input", function () {
            if (this.value < 0) this.value = 0;
            if (
              this.hasAttribute("max") &&
              parseFloat(this.value) > parseFloat(this.getAttribute("max"))
            ) {
              this.value = this.getAttribute("max");
            }
          });
        });

        document.addEventListener("keypress", function (e) {
          if (e.key === "Enter" && e.target.tagName !== "BUTTON") {
            e.preventDefault();
            calculateWaterIntake();
          }
        });

        if ("ontouchstart" in window) {
          document.querySelectorAll("button, .toggle-btn").forEach((btn) => {
            btn.addEventListener("touchstart", function () {
              this.style.transform = "scale(0.98)";
            });
            btn.addEventListener("touchend", function () {
              this.style.transform = "scale(1)";
            });
          });
        }
      });

      // Prevent zoom on double tap
      let lastTouchEnd = 0;
      document.addEventListener(
        "touchend",
        function (event) {
          const now = new Date().getTime();
          if (now - lastTouchEnd <= 300) {
            event.preventDefault();
          }
          lastTouchEnd = now;
        },
        false
      );

      // Viewport height fix for mobile
      function setVH() {
        let vh = window.innerHeight * 0.01;
        document.documentElement.style.setProperty("--vh", `${vh}px`);
      }

      setVH();
      window.addEventListener("resize", setVH);
      window.addEventListener("orientationchange", setVH);
    </script>
  </body>
</html>